(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const No=(e,t)=>e===t,pt=Symbol("solid-proxy"),bs=typeof Proxy=="function",Bo=Symbol("solid-track"),ht={equals:No};let Ve=null,_s=ks;const ae=1,yt=2,ws={owned:null,cleanups:null,context:null,owner:null},Jt={};var P=null;let Xt=null,Mo=null,T=null,N=null,Q=null,Pt=0;function ct(e,t){const n=T,r=P,s=e.length===0,i=t===void 0?r:t,o=s?ws:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?e:()=>e(()=>V(()=>He(o)));P=o,T=null;try{return Ee(a,!0)}finally{T=n,P=r}}function Y(e,t){t=t?Object.assign({},ht,t):ht;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Es(n,s));return[As.bind(n),r]}function Wo(e,t,n){const r=et(e,t,!0,ae);Oe(r)}function ee(e,t,n){const r=et(e,t,!1,ae);Oe(r)}function jt(e,t,n){_s=Jo;const r=et(e,t,!1,ae);r.user=!0,Q?Q.push(r):Oe(r)}function I(e,t,n){n=n?Object.assign({},ht,n):ht;const r=et(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Oe(r),As.bind(r)}function Vo(e){return e&&typeof e=="object"&&"then"in e}function vs(e,t,n){let r,s,i;typeof t=="function"?(r=e,s=t,i=n||{}):(r=!0,s=e,i=t||{});let o=null,a=Jt,u=!1,c="initialValue"in i,f=typeof r=="function"&&I(r);const l=new Set,[d,h]=(i.storage||Y)(i.initialValue),[b,L]=Y(void 0),[_,j]=Y(void 0,{equals:!1}),[g,m]=Y(c?"ready":"unresolved");function w(v,S,R,Se){return o===v&&(o=null,Se!==void 0&&(c=!0),(v===a||S===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(Se,{value:S})),a=Jt,x(S,R)),S}function x(v,S){Ee(()=>{S===void 0&&h(()=>v),m(S!==void 0?"errored":c?"ready":"unresolved"),L(S);for(const R of l.keys())R.decrement();l.clear()},!1)}function p(){const v=Go,S=d(),R=b();if(R!==void 0&&!o)throw R;return T&&T.user,S}function $(v=!0){if(v!==!1&&u)return;u=!1;const S=f?f():r;if(S==null||S===!1){w(o,V(d));return}const R=a!==Jt?a:V(()=>s(S,{value:d(),refetching:v}));return Vo(R)?(o=R,"value"in R?(R.status==="success"?w(o,R.value,void 0,S):w(o,void 0,fn(R.value),S),R):(u=!0,queueMicrotask(()=>u=!1),Ee(()=>{m(c?"refreshing":"pending"),j()},!1),R.then(Se=>w(R,Se,void 0,S),Se=>w(R,void 0,fn(Se),S)))):(w(o,R,void 0,S),R)}return Object.defineProperties(p,{state:{get:()=>g()},error:{get:()=>b()},loading:{get(){const v=g();return v==="pending"||v==="refreshing"}},latest:{get(){if(!c)return p();const v=b();if(v&&!o)throw v;return d()}}}),f?Wo(()=>$(!1)):$(!1),[p,{refetch:$,mutate:h}]}function V(e){if(T===null)return e();const t=T;T=null;try{return e()}finally{T=t}}function ln(e){jt(()=>V(e))}function Ct(e){return P===null||(P.cleanups===null?P.cleanups=[e]:P.cleanups.push(e)),e}function Fo(e,t){Ve||(Ve=Symbol("error")),P=et(void 0,void 0,!0),P.context={...P.context,[Ve]:[t]};try{return e()}catch(n){Lt(n)}finally{P=P.owner}}const[xd,Sd]=Y(!1);function Ko(e){const t=I(e),n=I(()=>dn(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Go;function As(){if(this.sources&&this.state)if(this.state===ae)Oe(this);else{const e=N;N=null,Ee(()=>mt(this),!1),N=e}if(T){const e=this.observers?this.observers.length:0;T.sources?(T.sources.push(this),T.sourceSlots.push(e)):(T.sources=[this],T.sourceSlots=[e]),this.observers?(this.observers.push(T),this.observerSlots.push(T.sources.length-1)):(this.observers=[T],this.observerSlots=[T.sources.length-1])}return this.value}function Es(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Ee(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=Xt&&Xt.running;o&&Xt.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?N.push(i):Q.push(i),i.observers&&xs(i)),o||(i.state=ae)}if(N.length>1e6)throw N=[],new Error},!1)),t}function Oe(e){if(!e.fn)return;He(e);const t=Pt;zo(e,e.value,t)}function zo(e,t,n){let r;const s=P,i=T;T=P=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=ae,e.owned&&e.owned.forEach(He),e.owned=null),e.updatedAt=n+1,Lt(o)}finally{T=i,P=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Es(e,r):e.value=r,e.updatedAt=n)}function et(e,t,n,r=ae,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:P,context:P?P.context:null,pure:n};return P===null||P!==ws&&(P.owned?P.owned.push(i):P.owned=[i]),i}function gt(e){if(e.state===0)return;if(e.state===yt)return mt(e);if(e.suspense&&V(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Pt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ae)Oe(e);else if(e.state===yt){const r=N;N=null,Ee(()=>mt(e,t[0]),!1),N=r}}function Ee(e,t){if(N)return e();let n=!1;t||(N=[]),Q?n=!0:Q=[],Pt++;try{const r=e();return Ho(n),r}catch(r){n||(Q=null),N=null,Lt(r)}}function Ho(e){if(N&&(ks(N),N=null),e)return;const t=Q;Q=null,t.length&&Ee(()=>_s(t),!1)}function ks(e){for(let t=0;t<e.length;t++)gt(e[t])}function Jo(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:gt(r)}for(t=0;t<n;t++)gt(e[t])}function mt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===ae?r!==t&&(!r.updatedAt||r.updatedAt<Pt)&&gt(r):s===yt&&mt(r,t)}}}function xs(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=yt,n.pure?N.push(n):Q.push(n),n.observers&&xs(n))}}function He(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)He(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)He(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function fn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function kr(e,t,n){try{for(const r of t)r(e)}catch(r){Lt(r,n&&n.owner||null)}}function Lt(e,t=P){const n=Ve&&t&&t.context&&t.context[Ve],r=fn(e);if(!n)throw r;Q?Q.push({fn(){kr(r,n,t)},state:ae}):kr(r,n,t)}function dn(e){if(typeof e=="function"&&!e.length)return dn(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=dn(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const Xo=Symbol("fallback");function xr(e){for(let t=0;t<e.length;t++)e[t]()}function Yo(e,t,n={}){let r=[],s=[],i=[],o=0,a=t.length>1?[]:null;return Ct(()=>xr(i)),()=>{let u=e()||[],c=u.length,f,l;return u[Bo],V(()=>{let h,b,L,_,j,g,m,w,x;if(c===0)o!==0&&(xr(i),i=[],r=[],s=[],o=0,a&&(a=[])),n.fallback&&(r=[Xo],s[0]=ct(p=>(i[0]=p,n.fallback())),o=1);else if(o===0){for(s=new Array(c),l=0;l<c;l++)r[l]=u[l],s[l]=ct(d);o=c}else{for(L=new Array(c),_=new Array(c),a&&(j=new Array(c)),g=0,m=Math.min(o,c);g<m&&r[g]===u[g];g++);for(m=o-1,w=c-1;m>=g&&w>=g&&r[m]===u[w];m--,w--)L[w]=s[m],_[w]=i[m],a&&(j[w]=a[m]);for(h=new Map,b=new Array(w+1),l=w;l>=g;l--)x=u[l],f=h.get(x),b[l]=f===void 0?-1:f,h.set(x,l);for(f=g;f<=m;f++)x=r[f],l=h.get(x),l!==void 0&&l!==-1?(L[l]=s[f],_[l]=i[f],a&&(j[l]=a[f]),l=b[l],h.set(x,l)):i[f]();for(l=g;l<c;l++)l in L?(s[l]=L[l],i[l]=_[l],a&&(a[l]=j[l],a[l](l))):s[l]=ct(d);s=s.slice(0,o=c),r=u.slice(0)}return s});function d(h){if(i[l]=h,a){const[b,L]=Y(l);return a[l]=L,t(u[l],b)}return t(u[l])}}}function y(e,t){return V(()=>e(t||{}))}function at(){return!0}const pn={get(e,t,n){return t===pt?n:e.get(t)},has(e,t){return t===pt?!0:e.has(t)},set:at,deleteProperty:at,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:at,deleteProperty:at}},ownKeys(e){return e.keys()}};function Yt(e){return(e=typeof e=="function"?e():e)?e:{}}function Zo(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function G(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&pt in a,e[o]=typeof a=="function"?(t=!0,I(a)):a}if(bs&&t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const u=Yt(e[a])[o];if(u!==void 0)return u}},has(o){for(let a=e.length-1;a>=0;a--)if(o in Yt(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(Yt(e[a])));return[...new Set(o)]}},pn);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const u=Object.getOwnPropertyNames(a);for(let c=u.length-1;c>=0;c--){const f=u[c];if(f==="__proto__"||f==="constructor")continue;const l=Object.getOwnPropertyDescriptor(a,f);if(!r[f])r[f]=l.get?{enumerable:!0,configurable:!0,get:Zo.bind(n[f]=[l.get.bind(a)])}:l.value!==void 0?l:void 0;else{const d=n[f];d&&(l.get?d.push(l.get.bind(a)):l.value!==void 0&&d.push(()=>l.value))}}}const s={},i=Object.keys(r);for(let o=i.length-1;o>=0;o--){const a=i[o],u=r[a];u&&u.get?Object.defineProperty(s,a,u):s[a]=u?u.value:void 0}return s}function Ss(e,...t){if(bs&&pt in e){const s=new Set(t.length>1?t.flat():t[0]),i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},pn));return i.push(new Proxy({get(o){return s.has(o)?void 0:e[o]},has(o){return s.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!s.has(o))}},pn)),i}const n={},r=t.map(()=>({}));for(const s of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,s),o=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,u=0;for(const c of t)c.includes(s)&&(a=!0,o?r[u][s]=i.value:Object.defineProperty(r[u],s,i)),++u;a||(o?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}const $s=e=>`Stale read from <${e}>.`;function Ps(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(Yo(()=>e.each,e.children,t||void 0))}function ge(e){const t=e.keyed,n=I(()=>e.when,void 0,{equals:(r,s)=>t?r===s:!r==!s});return I(()=>{const r=n();if(r){const s=e.children;return typeof s=="function"&&s.length>0?V(()=>s(t?r:()=>{if(!V(n))throw $s("Show");return e.when})):s}return e.fallback},void 0,void 0)}function bt(e){let t=!1;const n=(i,o)=>(t?i[1]===o[1]:!i[1]==!o[1])&&i[2]===o[2],r=Ko(()=>e.children),s=I(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let o=0;o<i.length;o++){const a=i[o].when;if(a)return t=!!i[o].keyed,[o,a,i[o]]}return[-1]},void 0,{equals:n});return I(()=>{const[i,o,a]=s();if(i<0)return e.fallback;const u=a.children;return typeof u=="function"&&u.length>0?V(()=>u(t?o:()=>{if(V(s)[0]!==i)throw $s("Match");return a.when})):u},void 0,void 0)}function W(e){return e}let ut;function Qo(e){let t;const[n,r]=Y(t,void 0);return ut||(ut=new Set),ut.add(r),Ct(()=>ut.delete(r)),I(()=>{let s;if(s=n()){const i=e.fallback;return typeof i=="function"&&i.length?V(()=>i(s,()=>r())):i}return Fo(()=>e.children,r)},void 0,void 0)}const ea=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],ta=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ea]),na=new Set(["innerHTML","textContent","innerText","children"]),ra=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),sa=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ia(e,t){const n=sa[e];return typeof n=="object"?n[t]?n.$:void 0:n}const oa=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function aa(e,t,n){let r=n.length,s=t.length,i=r,o=0,a=0,u=t[s-1].nextSibling,c=null;for(;o<s||a<i;){if(t[o]===n[a]){o++,a++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const f=i<r?a?n[a-1].nextSibling:n[i-a]:u;for(;a<i;)e.insertBefore(n[a++],f)}else if(i===a)for(;o<s;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[a]===t[s-1]){const f=t[--s].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--i],f),t[s]=n[i]}else{if(!c){c=new Map;let l=a;for(;l<i;)c.set(n[l],l++)}const f=c.get(t[o]);if(f!=null)if(a<f&&f<i){let l=o,d=1,h;for(;++l<s&&l<i&&!((h=c.get(t[l]))==null||h!==f+d);)d++;if(d>f-a){const b=t[o];for(;a<f;)e.insertBefore(n[a++],b)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const Sr="_$DX_DELEGATE";function ua(e,t,n,r={}){let s;return ct(i=>{s=i,t===document?e():ye(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function ue(e,t,n){let r;const s=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},i=()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function ca(e,t=window.document){const n=t[Sr]||(t[Sr]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,ga))}}function Je(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function la(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function qn(e,t){t==null?e.removeAttribute("class"):e.className=t}function fa(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=i=>s.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function da(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||t[a]||(Pr(e,a,!1),delete n[a])}for(i=0,o=r.length;i<o;i++){const a=r[i],u=!!t[a];!a||a==="undefined"||n[a]===u||!u||(Pr(e,a,!0),n[a]=u)}return n}function pa(e,t,n){if(!t)return n?Je(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let s,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)s=t[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function $r(e,t={},n,r){const s={};return ee(()=>s.children=Xe(e,t.children,s.children)),ee(()=>typeof t.ref=="function"&&js(t.ref,e)),ee(()=>ha(e,t,n,!0,s,!0)),s}function js(e,t,n){return V(()=>e(t,n))}function ye(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Xe(e,t,r,n);ee(s=>Xe(e,t(),s,n),r)}function ha(e,t,n,r,s={},i=!1){t||(t={});for(const o in s)if(!(o in t)){if(o==="children")continue;s[o]=jr(e,o,null,s[o],n,i,t)}for(const o in t){if(o==="children")continue;const a=t[o];s[o]=jr(e,o,a,s[o],n,i,t)}}function ya(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Pr(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],n)}function jr(e,t,n,r,s,i,o){let a,u,c,f,l;if(t==="style")return pa(e,n,r);if(t==="classList")return da(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);r&&e.removeEventListener(d,r,typeof r!="function"&&r),n&&e.addEventListener(d,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);r&&e.removeEventListener(d,r,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),h=oa.has(d);if(!h&&r){const b=Array.isArray(r)?r[0]:r;e.removeEventListener(d,b)}(h||n)&&(fa(e,d,n,h),h&&ca([d]))}else t.slice(0,5)==="attr:"?Je(e,t.slice(5),n):t.slice(0,5)==="bool:"?la(e,t.slice(5),n):(l=t.slice(0,5)==="prop:")||(c=na.has(t))||(f=ia(t,e.tagName))||(u=ta.has(t))||(a=e.nodeName.includes("-")||"is"in o)?(l&&(t=t.slice(5),u=!0),t==="class"||t==="className"?qn(e,n):a&&!u&&!c?e[ya(t)]=n:e[f||t]=n):Je(e,ra[t]||t,n);return n}function ga(e){let t=e.target;const n=`$$${e.type}`,r=e.target,s=e.currentTarget,i=u=>Object.defineProperty(e,"target",{configurable:!0,value:u}),o=()=>{const u=t[n];if(u&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?u.call(t,c,e):u.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},a=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const u=e.composedPath();i(u[0]);for(let c=0;c<u.length-2&&(t=u[c],!!o());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===s)break}}else a();i(r)}function Xe(e,t,n,r,s){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=$e(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean")n=$e(e,n,r);else{if(i==="function")return ee(()=>{let a=t();for(;typeof a=="function";)a=a();n=Xe(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],u=n&&Array.isArray(n);if(hn(a,t,n,s))return ee(()=>n=Xe(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=$e(e,n,r),o)return n}else u?n.length===0?Cr(e,a,r):aa(e,n,a):(n&&$e(e),Cr(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=$e(e,n,r,t);$e(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function hn(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let a=t[i],u=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=hn(e,a,u)||s;else if(c==="function")if(r){for(;typeof a=="function";)a=a();s=hn(e,Array.isArray(a)?a:[a],Array.isArray(u)?u:[u])||s}else e.push(a),s=!0;else{const f=String(a);u&&u.nodeType===3&&u.data===f?e.push(u):e.push(document.createTextNode(f))}}return s}function Cr(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function $e(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(s!==a){const u=a.parentNode===e;!i&&!o?u?e.replaceChild(s,a):e.insertBefore(s,n):u&&a.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}function Cs(e){return{lang:e?.lang??void 0,message:e?.message,abortEarly:e?.abortEarly??void 0,abortPipeEarly:e?.abortPipeEarly??void 0}}function ma(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function ba(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function Le(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,o=s?.expected??e.expects??null,a=s?.received??ba(i),u={kind:e.kind,type:e.type,input:i,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",f=s?.message??e.message??ma(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);f&&(u.message=typeof f=="function"?f(u):f),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function ce(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Cs())}}}function _a(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}var wa=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Un(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Tt(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function Ls(){return{kind:"schema",type:"any",reference:Ls,expects:"any",async:!1,get"~standard"(){return ce(this)},"~run"(e){return e.typed=!0,e}}}function yn(e){return{kind:"schema",type:"boolean",reference:yn,expects:"boolean",async:!1,message:e,get"~standard"(){return ce(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:Le(this,"type",t,n),t}}}function Nn(e){return{kind:"schema",type:"function",reference:Nn,expects:"Function",async:!1,message:e,get"~standard"(){return ce(this)},"~run"(t,n){return typeof t.value=="function"?t.typed=!0:Le(this,"type",t,n),t}}}function X(e,t){return{kind:"schema",type:"loose_object",reference:X,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return ce(this)},"~run"(n,r){var s;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const o in this.entries){const a=this.entries[o];if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=o in i?i[o]:Un(a),c=a["~run"]({value:u},r);if(c.issues){const f={type:"object",origin:"value",input:i,key:o,value:u};for(const l of c.issues)l.path?l.path.unshift(f):l.path=[f],(s=n.issues)==null||s.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[o]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(Le(this,"key",n,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:i[o]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const o in i)_a(i,o)&&!(o in this.entries)&&(n.value[o]=i[o])}else Le(this,"type",n,r);return n}}}function Me(e,t){return{kind:"schema",type:"nullish",reference:Me,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return ce(this)},"~run"(n,r){return(n.value===null||n.value===void 0)&&(this.default!==void 0&&(n.value=Un(this,n,r)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function gn(e){return{kind:"schema",type:"number",reference:gn,expects:"number",async:!1,message:e,get"~standard"(){return ce(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Le(this,"type",t,n),t}}}function mn(e,t){return{kind:"schema",type:"optional",reference:mn,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return ce(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Un(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function me(e){return{kind:"schema",type:"string",reference:me,expects:"string",async:!1,message:e,get"~standard"(){return ce(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:Le(this,"type",t,n),t}}}function Ts(){return{kind:"schema",type:"unknown",reference:Ts,expects:"unknown",async:!1,get"~standard"(){return ce(this)},"~run"(e){return e.typed=!0,e}}}function bn(e,t,n){const r=e["~run"]({value:t},Cs(n));if(r.issues)throw new wa(r.issues);return r.value}function Os(...e){return{...e[0],pipe:e,get"~standard"(){return ce(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Rs(e){return Tt(X({TelegramWebviewProxy:X({postEvent:Nn()})}),e)}function Is(){try{return window.self!==window.top}catch{return!0}}var va=Object.defineProperty,Aa=(e,t,n)=>t in e?va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lr=(e,t,n)=>Aa(e,typeof t!="symbol"?t+"":t,n);function Ea(e){return t=>t instanceof e}function Ds(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Ea(n)]}const[ka,$d]=Ds("CancelledError","Promise was canceled"),[xa,Pd]=Ds("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),qs=Symbol("Resolved");function Tr(e){return Array.isArray(e)&&e[0]===qs}function Sa(e){return[qs,e]}function Or(e,t){return e.reject=t.reject,e.abort=t.abort,e}let Us=class _n extends Promise{constructor(t,n){let r,s;super((i,o)=>{let a,u;typeof t=="function"?(a=t,u=n):u=t;const c=[],f=p=>(...$)=>{const v=p(...$);return c.forEach(S=>S()),v},l=new AbortController,{signal:d}=l;s=p=>{!d.aborted&&l.abort(p)};const h=()=>d.reason,b=p=>{const $=()=>{p(h())};d.addEventListener("abort",$,!0);const v=()=>{d.removeEventListener("abort",$,!0)};return c.push(v),v},L=f(p=>{i(p),s(Sa(p))});r=f(p=>{o(p),s(p)}),u||(u={});const{abortSignal:_,rejectOnAbort:j=!0}=u;if(_)if(_.aborted){const{reason:p}=_;if(j)return r(p);s(p)}else{const p=()=>{s(_.reason)};_.addEventListener("abort",p),c.push(()=>{_.removeEventListener("abort",p)})}j&&b(o);const{timeout:g}=u;if(g){const p=setTimeout(()=>{s(new xa(g))},g);c.push(()=>{clearTimeout(p)})}const m=()=>d.aborted,w=()=>Tr(h()),x=()=>{const p=h();return Tr(p)?p[1]:void 0};try{const p=a&&a(L,r,{abortReason:h,abortSignal:d,isAborted:m,isResolved:w,onAborted:b,onResolved:$=>b(()=>{w()&&$(x())}),resolved:x,throwIfAborted(){if(m())throw h()}});p instanceof Promise&&p.catch(r)}catch(p){r(p)}}),Lr(this,"abort"),Lr(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new _n(async(r,s,i)=>{try{r(await t(i))}catch(o){s(o)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new _n((n,r)=>{r(t)})}cancel(){this.abort(new ka)}catch(t){return this.then(void 0,t)}finally(t){return Or(super.finally(t),this)}then(t,n){return Or(super.then(t,n),this)}};function Ns(e){return`tapps/${e}`}function Bs(e,t){sessionStorage.setItem(Ns(e),JSON.stringify(t))}function $a(e){const t=sessionStorage.getItem(Ns(e));try{return t?JSON.parse(t):void 0}catch{}}function Pa(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function ja(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,i=s===void 0?!0:s,o=typeof i=="boolean"?()=>i:i;function a(u,c,...f){if(c||o()){const l="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${l};background-color: lightblue;color:black`,"",`${l};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...f)}}return[a.bind(void 0,"log"),a.bind(void 0,"error")]}function Ms(e){return{lang:e?.lang??void 0,message:e?.message,abortEarly:e?.abortEarly??void 0,abortPipeEarly:e?.abortPipeEarly??void 0}}function Ca(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function La(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function F(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,o=s?.expected??e.expects??null,a=s?.received??La(i),u={kind:e.kind,type:e.type,input:i,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",f=s?.message??e.message??Ca(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);f&&(u.message=typeof f=="function"?f(u):f),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function H(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Ms())}}}function Ws(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Ta(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Oa=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function Vs(e,t){return{kind:"validation",type:"check",reference:Vs,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&F(this,"input",n,r),n}}}function Fs(e){return{kind:"validation",type:"integer",reference:Fs,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&F(this,"integer",t,n),t}}}function be(e){return{kind:"transformation",type:"transform",reference:be,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function Ks(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Ra(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function We(e){return{kind:"schema",type:"boolean",reference:We,expects:"boolean",async:!1,message:e,get"~standard"(){return H(this)},"~run"(t,n){return typeof t.value=="boolean"?t.typed=!0:F(this,"type",t,n),t}}}function Gs(e){return{kind:"schema",type:"date",reference:Gs,expects:"Date",async:!1,message:e,get"~standard"(){return H(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?F(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:F(this,"type",t,n),t}}}function zs(e,t){return{kind:"schema",type:"instance",reference:zs,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return H(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:F(this,"type",n,r),n}}}function Bn(e){return{kind:"schema",type:"lazy",reference:Bn,expects:"unknown",async:!1,getter:e,get"~standard"(){return H(this)},"~run"(t,n){return this.getter(t.value)["~run"](t,n)}}}function Re(e,t){return{kind:"schema",type:"loose_object",reference:Re,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return H(this)},"~run"(n,r){var s;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const o in this.entries){const a=this.entries[o];if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=o in i?i[o]:Ks(a),c=a["~run"]({value:u},r);if(c.issues){const f={type:"object",origin:"value",input:i,key:o,value:u};for(const l of c.issues)l.path?l.path.unshift(f):l.path=[f],(s=n.issues)==null||s.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[o]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(F(this,"key",n,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:i[o]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const o in i)Ws(i,o)&&!(o in this.entries)&&(n.value[o]=i[o])}else F(this,"type",n,r);return n}}}function Ot(e){return{kind:"schema",type:"number",reference:Ot,expects:"number",async:!1,message:e,get"~standard"(){return H(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:F(this,"type",t,n),t}}}function C(e,t){return{kind:"schema",type:"optional",reference:C,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return H(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=Ks(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Hs(e,t,n){return{kind:"schema",type:"record",reference:Hs,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return H(this)},"~run"(r,s){var i,o;const a=r.value;if(a&&typeof a=="object"){r.typed=!0,r.value={};for(const u in a)if(Ws(a,u)){const c=a[u],f=this.key["~run"]({value:u},s);if(f.issues){const d={type:"object",origin:"key",input:a,key:u,value:c};for(const h of f.issues)h.path=[d],(i=r.issues)==null||i.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}const l=this.value["~run"]({value:c},s);if(l.issues){const d={type:"object",origin:"value",input:a,key:u,value:c};for(const h of l.issues)h.path?h.path.unshift(d):h.path=[d],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}(!f.typed||!l.typed)&&(r.typed=!1),f.typed&&(r.value[f.value]=l.value)}}else F(this,"type",r,s);return r}}}function E(e){return{kind:"schema",type:"string",reference:E,expects:"string",async:!1,message:e,get"~standard"(){return H(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:F(this,"type",t,n),t}}}function Rr(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Mn(e,t){return{kind:"schema",type:"union",reference:Mn,expects:Ta(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return H(this)},"~run"(n,r){let s,i,o;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)i?i.push(u):i=[u];else{s=u;break}else o?o.push(u):o=[u]}if(s)return s;if(i){if(i.length===1)return i[0];F(this,"type",n,r,{issues:Rr(i)}),n.typed=!0}else{if(o?.length===1)return o[0];F(this,"type",n,r,{issues:Rr(o)})}return n}}}function Js(){return{kind:"schema",type:"unknown",reference:Js,expects:"unknown",async:!1,get"~standard"(){return H(this)},"~run"(e){return e.typed=!0,e}}}function Xs(e,t,n){const r=e["~run"]({value:t},Ms(n));if(r.issues)throw new Oa(r.issues);return r.value}function _e(...e){return{...e[0],pipe:e,get"~standard"(){return H(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}function Ia(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}function Da(e){return Object.entries(e).reduce((t,[n,r])=>(t[Ia(n)]=r,t),{})}function wn(e){const t=Da(e);for(const n in t){const r=t[n];r&&typeof r=="object"&&!(r instanceof Date)&&(t[n]=Array.isArray(r)?r.map(wn):wn(r))}return t}function Wn(e){return be(t=>e?wn(t):t)}function Ys(e){return t=>_e(e,Wn(t))}function qa(e){return(t,n)=>Xs(_e(e,Wn(n)),t)}function Vn(){return be(JSON.parse)}function Fn(e){const t=Ys(e);return n=>_e(E(),Vn(),t(n))}function Ua(e){return be(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const i=n[s];Array.isArray(i)?i.push(r):i===void 0?n[s]=r:n[s]=[i,r]}),Xs(e,n)})}function Zs(e){return t=>_e(Mn([E(),zs(URLSearchParams)]),Ua(e),Wn(t))}const Ir=C(Bn(()=>Va())),Na=Re({id:Ot(),photo_url:C(E()),type:E(),title:E(),username:C(E())}),Ba=Re({added_to_attachment_menu:C(We()),allows_write_to_pm:C(We()),first_name:E(),id:Ot(),is_bot:C(We()),is_premium:C(We()),last_name:C(E()),language_code:C(E()),photo_url:C(E()),username:C(E())}),Ma=Re({auth_date:_e(E(),be(e=>new Date(Number(e)*1e3)),Gs()),can_send_after:C(_e(E(),be(Number),Fs())),chat:C(Bn(()=>Wa())),chat_type:C(E()),chat_instance:C(E()),hash:E(),query_id:C(E()),receiver:Ir,start_param:C(E()),signature:E(),user:Ir}),Wa=Fn(Na),Va=Fn(Ba),Fa=Zs(Ma);function Ka(e){return/^#[\da-f]{6}$/i.test(e)}const Qs=Ys(Hs(E(),_e(Mn([E(),Ot()]),be(e=>typeof e=="number"?`#${(e&16777215).toString(16).padStart(6,"0")}`:e),Vs(Ka)))),Zt=C(_e(E(),be(e=>e==="1"))),Dr=Fn(Qs()),Ga=Re({tgWebAppBotInline:Zt,tgWebAppData:C(Fa()),tgWebAppDefaultColors:C(Dr()),tgWebAppFullscreen:Zt,tgWebAppPlatform:E(),tgWebAppShowSettings:Zt,tgWebAppStartParam:C(E()),tgWebAppThemeParams:Dr(),tgWebAppVersion:E()}),ei=Zs(Ga),za=qa(ei()),ti=Re({eventType:E(),eventData:C(Js())});function ni(e,t){return t||(t=(n,r)=>JSON.stringify(r)),new URLSearchParams(Object.entries(e).reduce((n,[r,s])=>(Array.isArray(s)?n.push(...s.map(i=>[r,String(i)])):s!=null&&n.push([r,s instanceof Date?(s.getTime()/1e3|0).toString():typeof s=="string"||typeof s=="number"?String(s):typeof s=="boolean"?s?"1":"0":t(r,s)]),n),[])).toString()}function Ha(e){return ni(e)}function Ja(e){return ni(e,(t,n)=>t==="tgWebAppData"?Ha(n):JSON.stringify(n))}function ri(e){try{return Ra(ei(),e)}catch{return!1}}function Xa(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}function Ya(e,t){const n=Xa(),r=new Map,s=(i,o,a)=>{a||(a=!1);const u=r.get(i)||new Map;r.set(i,u);const c=u.get(o)||[];u.set(o,c);const f=c.findIndex(l=>l[1]===a);f>=0&&(n.off(i,c[f][0]),c.splice(f,1),!c.length&&u.delete(o),u.size||(r.delete(i),!r.size&&t()))};return[function(i,o,a){!r.size&&e();function u(){s(i,o,a)}function c(...d){a&&u(),i==="*"?o(d):o(...d)}n.on(i,c);const f=r.get(i)||new Map;r.set(i,f);const l=f.get(o)||[];return f.set(o,l),l.push([c,a||!1]),u},s,n.emit,function(){const i=n.all.size;n.all.clear(),r.clear(),i&&t()}]}function _t(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let lt=!1;const[Kn,Za]=ja("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return lt}}),qr=e=>{Kn(!1,"Event received:",e)};function Qa(e){e!==lt&&(lt=e,lt?q("*",qr):tt("*",qr))}const eu={clipboard_text_received:X({req_id:me(),data:Me(me())}),custom_method_invoked:X({req_id:me(),result:mn(Ts()),error:mn(me())}),popup_closed:Me(X({button_id:Me(me(),()=>{})}),{}),viewport_changed:X({height:gn(),width:Me(gn(),()=>window.innerWidth),is_state_stable:yn(),is_expanded:yn()}),theme_changed:X({theme_params:Qs()})};function Ur(e){if(e.source!==window.parent)return;let t;try{t=bn(Os(me(),Vn(),ti),e.data)}catch{return}const{eventType:n,eventData:r}=t,s=eu[n];try{const i=s?bn(s,r):r;tu(n,i)}catch(i){Za(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,i)}}const[q,tt,tu,jd]=Ya(()=>{const e=window,t={receiveEvent:_t};e.TelegramGameProxy_receiveEvent=_t,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",Ur)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",Ur)});function nu(e){return t=>t instanceof e}function Ie(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,nu(n)]}const[ru,Cd]=Ie("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[su,Ld]=Ie("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),iu=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[ou,Td]=Ie("LaunchParamsRetrieveError",iu),[au,Od]=Ie("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]),[uu,Rd]=Ie("UnknownEnvError"),[cu,Id]=Ie("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]);function lu(e,t){t()}function fu(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const i=c=>{if(!n(s,c)){const f=s;s=c,lu(u,()=>{[...r].forEach(([l,d])=>{l(c,f),d&&a(l,!0)})})}};function o(c){const f=typeof c!="object"?{once:c}:c;return{once:f.once||!1,signal:f.signal||!1}}const a=(c,f)=>{const l=o(f),d=r.findIndex(([h,b])=>h===c&&b.once===l.once&&b.signal===l.signal);d>=0&&r.splice(d,1)},u=Object.assign(function(){return du(u),s},{destroy(){r=[]},set:i,reset(){i(e)},sub(c,f){return r.push([c,o(f)]),()=>a(c,f)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const Qt=[];function du(e){Qt.length&&Qt[Qt.length-1].add(e)}const pu=fu("https://web.telegram.org");function Gn(e,t){Kn(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});const n=window,r=JSON.stringify({eventType:e,eventData:t});if(Is())return n.parent.postMessage(r,pu());if(Rs(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(Tt(X({external:X({notify:Nn()})}),n)){n.external.notify(r);return}throw new uu}function zn(e,t,n){n||(n={});const{capture:r}=n,[s,i]=Pa();return new Us(o=>{(Array.isArray(t)?t:[t]).forEach(a=>{s(q(a,u=>{(!r||(Array.isArray(t)?r({event:a,payload:u}):r(u)))&&o(u)}))}),(n.postEvent||Gn)(e,n.params)},n).finally(i)}const Nr="launchParams";function Br(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function Hn(){for(const e of[()=>Br(window.location.href),()=>{const t=performance.getEntriesByType("navigation")[0];return t&&Br(t.name)},()=>$a(Nr)]){const t=e();if(t&&ri(t))return Bs(Nr,t),t}throw new ou}function nt(e){return za(Hn())}function Mr(e,t){try{return nt(),!0}catch{return!1}return Us.fn(async n=>{if(Rs(window))return!0;try{return await zn("web_app_request_theme","theme_changed",n),!0}catch{return!1}},{timeout:100})}function hu({launchParams:e,onEvent:t}={}){if(e){const s=typeof e=="string"||e instanceof URLSearchParams?e.toString():Ja({...e,tgWebAppData:void 0})+(e.tgWebAppData?`&tgWebAppData=${encodeURIComponent(e.tgWebAppData.toString())}`:"");if(!ri(s))throw new au(s);Bs("launchParams",s)}if(Is()){const s=Os(me(),Vn(),ti),i=window.parent.postMessage.bind(window.parent);window.parent.postMessage=(...o)=>{const[a]=o,u=()=>{i(...o)};if(Tt(s,a)&&t){const c=bn(s,a);t([c.eventType,c.eventData],u)}else u()};return}const n=window.TelegramWebviewProxy||{},{postEvent:r}=n;window.TelegramWebviewProxy={...n,postEvent(s,i){const o=()=>{r&&r(s,i)};t?t([s,i?JSON.parse(i):void 0],o):o()}},Kn(!1,"Environment was mocked by the mockTelegramEnv function")}function si(){return new URLSearchParams(Hn()).get("tgWebAppData")||void 0}function yu(e){return({req_id:t})=>t===e}function Wr(e){return e.split(".").map(Number)}function gu(e,t){const n=Wr(e),r=Wr(t),s=Math.max(n.length,r.length);for(let i=0;i<s;i+=1){const o=n[i]||0,a=r[i]||0;if(o!==a)return o>a?1:-1}return 0}function U(e,t){return gu(e,t)<=0}function Ye(e,t,n){if(typeof n=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return U("6.4",n);if(t==="try_browser")return U("7.6",n)}if(e==="web_app_set_header_color"&&t==="color")return U("6.9",n);if(e==="web_app_close"&&t==="return_back")return U("7.6",n);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return U("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return U("6.1",t);case"web_app_open_popup":return U("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return U("6.4",t);case"web_app_switch_inline_query":return U("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return U("6.9",t);case"web_app_setup_settings_button":return U("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return U("7.2",t);case"web_app_setup_swipe_behavior":return U("7.7",t);case"web_app_share_to_story":return U("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return U("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return U("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function mu(e,t){t||(t="strict");const n=typeof t=="function"?t:r=>{const{method:s,version:i}=r,o="param"in r?new su(s,r.param,i):new ru(s,i);if(t==="strict")throw o;return console.warn(o.message)};return(r,s)=>Ye(r,e)?r==="web_app_set_header_color"&&Tt(X({color:Ls()}),s)&&!Ye(r,"color",e)?n({version:e,method:r,param:"color"}):Gn(r,s):n({version:e,method:r})}function bu(e,t,n,r){return zn("web_app_invoke_custom_method","custom_method_invoked",{...r||{},params:{method:e,params:t,req_id:n},capture:yu(n)}).then(({result:s,error:i})=>{if(i)throw new cu(i);return s})}function ii(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function _u(e){return e.replace(/_([a-z])/g,(t,n)=>`-${n.toLowerCase()}`)}function oi(e){return`tapps/${e}`}function re(e,t){sessionStorage.setItem(oi(e),JSON.stringify(t))}function se(e){const t=sessionStorage.getItem(oi(e));try{return t?JSON.parse(t):void 0}catch{}}function Jn(...e){const t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(n=>{n()})}]}function wu(e,t){t||(t={});const{textColor:n,bgColor:r,shouldLog:s}=t,i=s===void 0?!0:s,o=typeof i=="boolean"?()=>i:i;function a(u,c,...f){if(c||o()){const l="font-weight:bold;padding:0 5px;border-radius:5px";console[u](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${l};background-color: lightblue;color:black`,"",`${l};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...f)}}return[a.bind(void 0,"log"),a.bind(void 0,"error")]}function vu(){return performance.getEntriesByType("navigation")[0]}function ie(){const e=vu();return!!e&&e.type==="reload"}let je;function Au(e,t){je&&je.set(e,t)||t()}function vn(e){if(je)return e();je=new Map;try{e()}finally{je.forEach(t=>t()),je=void 0}}function ai(e,t){t||(t={});const n=t.equals||Object.is;let r=[],s=e;const i=c=>{if(!n(s,c)){const f=s;s=c,Au(u,()=>{[...r].forEach(([l,d])=>{l(c,f),d&&a(l,!0)})})}};function o(c){const f=typeof c!="object"?{once:c}:c;return{once:f.once||!1,signal:f.signal||!1}}const a=(c,f)=>{const l=o(f),d=r.findIndex(([h,b])=>h===c&&b.once===l.once&&b.signal===l.signal);d>=0&&r.splice(d,1)},u=Object.assign(function(){return Eu(u),s},{destroy(){r=[]},set:i,reset(){i(e)},sub(c,f){return r.push([c,o(f)]),()=>a(c,f)},unsub:a,unsubAll(){r=r.filter(c=>c[1].signal)}});return u}const Fe=[];function Eu(e){Fe.length&&Fe[Fe.length-1].add(e)}function ku(e,t){let n=new Set,r;function s(){return r||(r=ai(o(),t))}function i(){s().set(o())}function o(){n.forEach(c=>{c.unsub(i,{signal:!0})});const a=new Set;let u;Fe.push(a);try{u=e()}finally{Fe.pop()}return a.forEach(c=>{c.sub(i,{signal:!0})}),n=a,u}return Object.assign(function(){return s()()},{destroy(){s().destroy()},sub(...a){return s().sub(...a)},unsub(...a){s().unsub(...a)},unsubAll(...a){s().unsubAll(...a)}})}function De(e,t){return ai(e,t)}function O(e,t){return ku(e,t)}function A(e,t){const n=De(e,t);return[n,O(n)]}let ui=!1;const[An,Dd]=wu("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return ui}});function xu(e){ui=e,Qa(e)}const en=De(0),ci=De(Gn),[Vr,li]=A({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),Pe=O(()=>li().tgWebAppVersion);function Su(e){e||(e={});const{postEvent:t}=e,n=e.launchParams||nt();Vr.set(n),ci.set(typeof t=="function"?t:mu(n.tgWebAppVersion)),An(!1,"The package was configured. Launch params:",Vr())}function $u(){return en.set(en()+1),en().toString()}function rt(e,t,n){return bu(e,t,$u(),{...n||{},postEvent:k})}const D=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=k),zn(e,t,n)),k=(e,t)=>ci()(e,t);function Pu(e){return t=>t instanceof e}function le(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Pu(n)]}function ke(e){return[e]}const[Xn,qd]=le("CSSVarsBoundError","CSS variables are already bound"),[fi,Ud]=le("NotAvailableError",ke);le("InvalidEnvError",ke);const[Ne,Nd]=le("FunctionNotAvailableError",ke),[he,Bd]=le("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[ju,Md]=le("ConcurrentCallError",ke),[Cu,Wd]=le("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[Lu,Vd]=le("AccessDeniedError",ke),[Tu,Fd]=le("FullscreenFailedError",ke);le("ShareMessageError",ke);function Fr(){return typeof window>"u"}function Yn(e,t,n){n||(n={});const{isSupported:r,isMounted:s,isMounting:i,component:o,supports:a}=n||{},u=`${o?`${o}.`:""}${e}()`,c=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function f(g){if(a){const m=a[g];return Ye(m[0],m[1],Pe())}return!0}function l(){if(!c)return;function g(x){return typeof x=="function"?x():Ye(x,Pe())?void 0:`it is unsupported in Mini Apps version ${Pe()}`}const m=Array.isArray(c)?c:c.any,w=m.map(g).filter(Boolean);return Array.isArray(c)?w[0]:w.length===m.length?w[w.length-1]:void 0}function d(...g){for(const m in a)if(a[m][2](...g)&&!f(m))return`option ${m} is not supported in Mini Apps version ${Pe()}`}let h;if(a){h={};for(const g in a)h[g]=O(()=>f(g))}const b=O(()=>!l()),L=O(()=>Pe()!=="0.0"),_=O(()=>!s||s()),j=O(()=>Mr()&&!Fr()&&L()&&b()&&_());return Object.assign((...g)=>{const m=`Unable to call the ${u} ${o?"method":"function"}:`;if(Fr()||!Mr())throw new Ne(`${m} it can't be called outside Mini Apps`);if(!L())throw new Ne(`${m} the SDK was not initialized. Use the SDK init() function`);const w=l();if(w)throw new Ne(`${m} ${w}`);const x=d(...g);if(x)throw new Ne(`${m} ${x}`);if(!_()){const p=i&&i()?"mounting. Wait for the mount completion":`unmounted. Use the ${o}.mount() method`;throw new Ne(`${m} the component is ${p}`)}return t(...g)},t,{isAvailable:j,ifAvailable(...g){return j()?[!0,t(...g)]:[!1]}},c?{isSupported:b}:{},h?{supports:h}:{})}function Rt(e,t){return t||(t={}),(n,r,s,i)=>Yn(n,r,{...t,isSupported:s||t.isSupported,supports:i,component:e})}function we(e,t,n){return Rt(e,{isSupported:n,isMounted:t})}function K(e,t){return Rt(e,{isSupported:t})}const Zn="web_app_setup_back_button",di="back_button_pressed",It="backButton",[Kr,Kd]=A(!1),[En,Gd]=A(!1),pi=we(It,En,Zn),Qn=K(It,Zn);pi("hide",()=>{er(!1)});Qn("mount",()=>{En()||(er(ie()&&se(It)||!1),En.set(!0))});function er(e){e!==Kr()&&(k(Zn,{is_visible:e}),re(It,e),Kr.set(e))}Qn("onClick",e=>q(di,e));Qn("offClick",e=>{tt(di,e)});pi("show",()=>{er(!0)});var Ou=Object.defineProperty,Ru=(e,t,n)=>t in e?Ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kn=(e,t,n)=>Ru(e,typeof t!="symbol"?t+"":t,n);function Iu(e){return t=>t instanceof e}function hi(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Iu(n)]}const[Du,qu]=hi("CancelledError","Promise was canceled"),[Uu,zd]=hi("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),yi=Symbol("Resolved");function Gr(e){return Array.isArray(e)&&e[0]===yi}function Nu(e){return[yi,e]}function zr(e,t){return e.reject=t.reject,e.abort=t.abort,e}let B=class xn extends Promise{constructor(t,n){let r,s;super((i,o)=>{let a,u;typeof t=="function"?(a=t,u=n):u=t;const c=[],f=p=>(...$)=>{const v=p(...$);return c.forEach(S=>S()),v},l=new AbortController,{signal:d}=l;s=p=>{!d.aborted&&l.abort(p)};const h=()=>d.reason,b=p=>{const $=()=>{p(h())};d.addEventListener("abort",$,!0);const v=()=>{d.removeEventListener("abort",$,!0)};return c.push(v),v},L=f(p=>{i(p),s(Nu(p))});r=f(p=>{o(p),s(p)}),u||(u={});const{abortSignal:_,rejectOnAbort:j=!0}=u;if(_)if(_.aborted){const{reason:p}=_;if(j)return r(p);s(p)}else{const p=()=>{s(_.reason)};_.addEventListener("abort",p),c.push(()=>{_.removeEventListener("abort",p)})}j&&b(o);const{timeout:g}=u;if(g){const p=setTimeout(()=>{s(new Uu(g))},g);c.push(()=>{clearTimeout(p)})}const m=()=>d.aborted,w=()=>Gr(h()),x=()=>{const p=h();return Gr(p)?p[1]:void 0};try{const p=a&&a(L,r,{abortReason:h,abortSignal:d,isAborted:m,isResolved:w,onAborted:b,onResolved:$=>b(()=>{w()&&$(x())}),resolved:x,throwIfAborted(){if(m())throw h()}});p instanceof Promise&&p.catch(r)}catch(p){r(p)}}),kn(this,"abort"),kn(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new xn(async(r,s,i)=>{try{r(await t(i))}catch(o){s(o)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new xn((n,r)=>{r(t)})}cancel(){this.abort(new Du)}catch(t){return this.then(void 0,t)}finally(t){return zr(super.finally(t),this)}then(t,n){return zr(super.then(t,n),this)}};function Hr(e,t){return e.resolve=t.resolve,e}let Bu=class Sn extends B{constructor(t,n){let r,s;typeof t=="function"?(r=t,s=n):s=t;let i;super((o,a,u)=>{i=o,r&&r(o,a,u)},s),kn(this,"resolve"),this.resolve=i}static fn(t,n){return new Sn((r,s,i)=>{try{Promise.resolve(t(i)).then(r,s)}catch(o){s(o)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new Sn((n,r)=>{r(t)})}catch(t){return this.then(void 0,t)}finally(t){return Hr(super.finally(t),this)}then(t,n){return Hr(super.then(t,n),this)}};function M(e,t,n){n||(n={});const{promise:r,error:s}=n,[i,o]=r?[r,O(r)]:A(),[a,u]=s?[s,O(s)]:A();return[Object.assign((...c)=>{if(i()){const l=new ju(t);return a.set(l),B.reject(l)}vn(()=>{i.set(e(...c)),a.set(void 0)});let f;return i().catch(l=>{throw f=l,l}).finally(()=>{vn(()=>{i.set(void 0),a.set(f)})})},e),[i,o,O(()=>!!i())],[a,u]]}function st(e,t,n){const[r,...s]=M(t,`The ${e} component is already mounting`),[i,o]=A(!1);return[(...a)=>i()?B.resolve():r(...a).then(u=>{vn(()=>{i.set(!0),n(u)})}),...s,[i,o]]}const[gi,Hd]=A({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),Jr="web_app_biometry_get_info",Mu=Yn("requestBiometry",e=>D(Jr,"biometry_info_received",e),{isSupported:Jr});function mi(e){if(!qu(e))throw e}function Wu(e){const t=e();t&&t.catch(mi).cancel()}const Ze="biometry",tr="web_app_biometry_request_auth",bi="biometry_info_received",Vu=e=>{Dt(nr(e))};function _i(){throw new fi("Biometry is not available")}function nr(e){let t=!1,n=!1,r="",s=!1,i="",o=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,s=e.access_requested,i=e.type,o=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:i,accessGranted:o,accessRequested:s}}const[Fu,Ku,Gu,wi]=st(Ze,e=>{const t=ie()&&se(Ze);return t?B.resolve(t):Mu({abortSignal:e}).then(nr)},e=>{q(bi,Vu),Dt(e)}),vi=K(Ze,tr),rr=we(Ze,wi[0],tr);vi("mount",Fu);const[,Jd,Xd]=Ku,[,Yd]=Gu,[Zd,Qd]=wi,[zu,Hu,Ju]=M(e=>B.fn(async t=>{const n=gi();n.available||_i();const r=await D(tr,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:s}=r;return typeof s=="string"&&Dt({...n,token:s}),r},e),"Biometry authentication is already in progress");rr("authenticate",zu);const[,ep,tp]=Hu,[,np]=Ju;vi("openSettings",()=>{k("web_app_biometry_open_settings")});const[Xu,Yu,Zu]=M(e=>B.fn(async t=>{const n=await D("web_app_biometry_request_access",bi,{...e,...t,params:{reason:(e||{}).reason||""}}).then(nr);return n.available||_i(),Dt(n),n.accessGranted},e),"Biometry access request is already in progress");rr("requestAccess",Xu);const[,rp,sp]=Yu,[,ip]=Zu;function Dt(e){gi.set(e),re(Ze,e)}rr("updateToken",e=>(e||(e={}),D("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status)));function qt(e,t){return Rt(e,{isMounted:t})}const ve=Rt,Ut="closingBehavior",[Xr,op]=A(!1),[Yr,Qu]=A(!1),Ai=qt(Ut,Qu),ec=ve(Ut);Ai("disableConfirmation",()=>{sr(!1)});Ai("enableConfirmation",()=>{sr(!0)});ec("mount",()=>{Yr()||(sr(ie()&&se(Ut)||!1),Yr.set(!0))});function sr(e){e!==Xr()&&(k("web_app_setup_closing_behavior",{need_confirmation:e}),re(Ut,e),Xr.set(e))}function Ei(e){return{lang:e?.lang??void 0,message:e?.message,abortEarly:e?.abortEarly??void 0,abortPipeEarly:e?.abortPipeEarly??void 0}}function tc(e,t){var n;return(n=void 0)==null?void 0:n.get(t)}function nc(e){var t,n;const r=typeof e;return r==="string"?`"${e}"`:r==="number"||r==="bigint"||r==="boolean"?`${e}`:r==="object"||r==="function"?(e&&((n=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:n.name))??"null":r}function z(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,o=s?.expected??e.expects??null,a=s?.received??nc(i),u={kind:e.kind,type:e.type,input:i,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",f=s?.message??e.message??tc(e.reference,u.lang)??(c?(u.lang,void 0):null)??r.message??(u.lang,void 0);f&&(u.message=typeof f=="function"?f(u):f),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function fe(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},Ei())}}}function ki(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function rc(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var $n=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function xi(e,t){return{kind:"validation",type:"check",reference:xi,async:!1,expects:null,requirement:e,message:t,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&z(this,"input",n,r),n}}}function Si(e){return{kind:"transformation",type:"transform",reference:Si,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function $i(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function Pi(e,t){return{kind:"schema",type:"array",reference:Pi,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return fe(this)},"~run"(n,r){var s;const i=n.value;if(Array.isArray(i)){n.typed=!0,n.value=[];for(let o=0;o<i.length;o++){const a=i[o],u=this.item["~run"]({value:a},r);if(u.issues){const c={type:"array",origin:"value",input:i,key:o,value:a};for(const f of u.issues)f.path?f.path.unshift(c):f.path=[c],(s=n.issues)==null||s.push(f);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value.push(u.value)}}else z(this,"type",n,r);return n}}}function ji(e){return{kind:"schema",type:"date",reference:ji,expects:"Date",async:!1,message:e,get"~standard"(){return fe(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?z(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:z(this,"type",t,n),t}}}function Ci(e,t){return{kind:"schema",type:"instance",reference:Ci,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return fe(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:z(this,"type",n,r),n}}}function Pn(e,t){return{kind:"schema",type:"loose_object",reference:Pn,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return fe(this)},"~run"(n,r){var s;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const o in this.entries){const a=this.entries[o];if(o in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){const u=o in i?i[o]:$i(a),c=a["~run"]({value:u},r);if(c.issues){const f={type:"object",origin:"value",input:i,key:o,value:u};for(const l of c.issues)l.path?l.path.unshift(f):l.path=[f],(s=n.issues)==null||s.push(l);if(n.issues||(n.issues=c.issues),r.abortEarly){n.typed=!1;break}}c.typed||(n.typed=!1),n.value[o]=c.value}else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(z(this,"key",n,r,{input:void 0,expected:`"${o}"`,path:[{type:"object",origin:"key",input:i,key:o,value:i[o]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const o in i)ki(i,o)&&!(o in this.entries)&&(n.value[o]=i[o])}else z(this,"type",n,r);return n}}}function Li(e){return{kind:"schema",type:"number",reference:Li,expects:"number",async:!1,message:e,get"~standard"(){return fe(this)},"~run"(t,n){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:z(this,"type",t,n),t}}}function Ti(e,t){return{kind:"schema",type:"optional",reference:Ti,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return fe(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=$i(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Oi(e,t,n){return{kind:"schema",type:"record",reference:Oi,expects:"Object",async:!1,key:e,value:t,message:n,get"~standard"(){return fe(this)},"~run"(r,s){var i,o;const a=r.value;if(a&&typeof a=="object"){r.typed=!0,r.value={};for(const u in a)if(ki(a,u)){const c=a[u],f=this.key["~run"]({value:u},s);if(f.issues){const d={type:"object",origin:"key",input:a,key:u,value:c};for(const h of f.issues)h.path=[d],(i=r.issues)==null||i.push(h);if(r.issues||(r.issues=f.issues),s.abortEarly){r.typed=!1;break}}const l=this.value["~run"]({value:c},s);if(l.issues){const d={type:"object",origin:"value",input:a,key:u,value:c};for(const h of l.issues)h.path?h.path.unshift(d):h.path=[d],(o=r.issues)==null||o.push(h);if(r.issues||(r.issues=l.issues),s.abortEarly){r.typed=!1;break}}(!f.typed||!l.typed)&&(r.typed=!1),f.typed&&(r.value[f.value]=l.value)}}else z(this,"type",r,s);return r}}}function J(e){return{kind:"schema",type:"string",reference:J,expects:"string",async:!1,message:e,get"~standard"(){return fe(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:z(this,"type",t,n),t}}}function Zr(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Ri(e,t){return{kind:"schema",type:"union",reference:Ri,expects:rc(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return fe(this)},"~run"(n,r){let s,i,o;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)i?i.push(u):i=[u];else{s=u;break}else o?o.push(u):o=[u]}if(s)return s;if(i){if(i.length===1)return i[0];z(this,"type",n,r,{issues:Zr(i)}),n.typed=!0}else{if(o?.length===1)return o[0];z(this,"type",n,r,{issues:Zr(o)})}return n}}}function ir(e,t,n){const r=e["~run"]({value:t},Ei(n));if(r.issues)throw new $n(r.issues);return r.value}function ft(...e){return{...e[0],pipe:e,get"~standard"(){return fe(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}const sc="web_app_invoke_custom_method",it=K("cloudStorage",sc),ic=it("deleteItem",(e,t)=>{const n=Array.isArray(e)?e:[e];return n.length?rt("deleteStorageValues",{keys:n},t).then():B.resolve()});function oc(e,t){const n=Array.isArray(e)?e:[e];return n.length?rt("getStorageValues",{keys:n},t).then(r=>ir(Oi(ft(J(),xi(s=>n.includes(s))),J()),r)):B.resolve(typeof e=="string"?"":{})}it("getItem",oc);const ac=it("getKeys",e=>rt("getStorageKeys",{},e).then(t=>ir(Pi(J()),t)));it("setItem",(e,t,n)=>rt("saveStorageValue",{key:e,value:t},n).then());it("clear",e=>ac(e).then(ic));const Nt="web_app_trigger_haptic_feedback",or=K("hapticFeedback",Nt);or("impactOccurred",e=>{k(Nt,{type:"impact",impact_style:e})});or("notificationOccurred",e=>{k(Nt,{type:"notification",notification_type:e})});or("selectionChanged",()=>{k(Nt,{type:"selection_change"})});const[Ii,uc]=A(void 0);function de(e){return O(()=>{const t=Ii();return t?t[e]:void 0})}const Di=de("auth_date"),qi=de("can_send_after"),cc=O(()=>{const e=Di(),t=qi();return t&&e?new Date(e.getTime()+t*1e3):void 0}),lc=de("chat"),fc=de("chat_type"),dc=de("chat_instance"),pc=de("hash"),hc=de("query_id"),[yc,gc]=A(),mc=de("receiver");function bc(){const e=nt();Ii.set(e.tgWebAppData),yc.set(si())}const _c=de("start_param"),wc=de("user"),vc=Object.freeze(Object.defineProperty({__proto__:null,authDate:Di,canSendAfter:qi,canSendAfterDate:cc,chat:lc,chatInstance:dc,chatType:fc,hash:pc,queryId:hc,raw:gc,receiver:mc,restore:bc,startParam:_c,state:uc,user:wc},Symbol.toStringTag,{value:"Module"})),Ui="web_app_open_invoice",Ac=K("invoice",Ui);function Ec(e,t,n){let r;if(t==="url"){const{hostname:s,pathname:i}=new URL(e,window.location.href);if(s!=="t.me")throw new he(`Link has unexpected hostname: ${s}`);const o=i.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!o)throw new he('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=o}else r=e,n=t;return D(Ui,"invoice_closed",{...n,params:{slug:r},capture:s=>r===s.slug}).then(s=>s.status)}const[kc,xc,Sc]=M(Ec,"Invoice is already opened");Ac("open",kc);const[,ap,up]=xc,[,cp]=Sc,Ke="locationManager",Ni="web_app_check_location",Qr="web_app_open_location_settings",jn=De({available:!1,accessGranted:!1,accessRequested:!1});function $c(e){let t=!1,n,r;return e.available&&(t=!0,n=e.access_requested,r=e.access_granted),{available:t,accessGranted:r||!1,accessRequested:n||!1}}const[Pc,jc,Cc,Bi]=st(Ke,e=>{const t=ie()&&se(Ke);return t?B.resolve(t):D("web_app_check_location","location_checked",e).then($c)},e=>{jn.set(e),re(Ke,e)}),Mi=K(Ke,Ni),Lc=we(Ke,Bi[0],Ni);Mi("mount",Pc);const[,lp,fp]=jc,[,dp]=Cc,[pp,hp]=Bi,[Tc,Oc,Rc]=M(e=>D("web_app_request_location","location_requested",e).then(t=>{if(!t.available)throw jn.set({...jn(),available:!1}),new fi("Location data tracking is not available");const{available:n,...r}=t;return r}),"Location request is currently in progress");Lc("requestLocation",Tc);const[,yp,gp]=Oc,[,mp]=Rc;Mi("openSettings",()=>{k(Qr)},Qr);function ar(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=r)}return t}function Ic(e){return{lang:e?.lang??void 0,message:e?.message,abortEarly:e?.abortEarly??void 0,abortPipeEarly:e?.abortPipeEarly??void 0}}var Dc=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function ur(e){return{kind:"transformation",type:"transform",reference:ur,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function qc(e,t,n){const r=e["~run"]({value:t},Ic(n));if(r.issues)throw new Dc(r.issues);return r.value}function Uc(){return ur(JSON.parse)}function Wi(e){return ur(t=>{const n={};return new URLSearchParams(t).forEach((r,s)=>{const i=n[s];Array.isArray(i)?i.push(r):i===void 0?n[s]=r:n[s]=[i,r]}),qc(e,n)})}function wt(e){return/^#[\da-f]{6}$/i.test(e)}const[tn,bp]=A(!1),[Ce,Nc]=A({});function ot(e){return O(()=>Ce()[e])}const Vi=ot("bg_color"),Fi=ot("button_color"),Bc=ot("button_text_color"),Mc=ot("bottom_bar_bg_color"),Cn=ot("secondary_bg_color"),Ge=De({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),Wc=O(()=>{const e=Ge();return{...e,backgroundColor:e.backgroundColor||Fi()||"#2481cc",textColor:e.textColor||Bc()||"#ffffff"}}),[es,Vc]=A(!1),Fc="web_app_setup_main_button",Ki="main_button_pressed",Bt="mainButton",cr=ve(Bt),Kc=qt(Bt,Vc);cr("mount",()=>{if(!es()){const e=ie()&&se(Bt);e&&Ge.set(e),es.set(!0)}});cr("onClick",e=>q(Ki,e));cr("offClick",e=>{tt(Ki,e)});Kc("setParams",e=>{Ge.set({...Ge(),...ar(e)}),re(Bt,Ge());const t=Wc();t.text&&k(Fc,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function lr(e,t){document.documentElement.style.setProperty(e,t)}function fr(e){document.documentElement.style.removeProperty(e)}const Qe="themeParams",Gc="theme_changed",zc=ve(Qe),Hc=({theme_params:e})=>{Ce.set(e),re(Qe,e)},[Jc,Xc,Yc,Gi]=st(Qe,e=>{const t=ie()&&se(Qe);return t?B.resolve(t):D("web_app_request_theme","theme_changed",e).then(n=>n.theme_params)},e=>{q(Gc,Hc),Ce.set(e)}),Zc=qt(Qe,Gi[0]),Qc=Zc("bindCssVars",e=>{if(tn())throw new Xn;e||(e=r=>`--tg-theme-${_u(r)}`);function t(r){Object.entries(Ce()).forEach(([s,i])=>{i&&r(s,i)})}function n(){t((r,s)=>{lr(e(r),s)})}return n(),Ce.sub(n),tn.set(!0),()=>{t(fr),Ce.unsub(n),tn.set(!1)}}),zi=zc("mount",Jc),[,_p,wp]=Xc,[,vp]=Yc,[Ap,Ep]=Gi;function Hi(e){return O(()=>{const t=e();return wt(t)?t:t==="bg_color"?Vi():Cn()})}const[vt,kp]=A("bg_color"),el=Hi(vt),[At,xp]=A("bottom_bar_bg_color"),Ji=O(()=>{const e=At();return wt(e)?e:e==="bottom_bar_bg_color"?Mc()||Cn():e==="secondary_bg_color"?Cn():Vi()}),[Et,Sp]=A("bg_color"),tl=Hi(Et),[nn,$p]=A(!1),[dr,Pp]=A(!0),nl=O(()=>({backgroundColor:vt(),bottomBarColor:At(),headerColor:Et(),isActive:dr()})),Ln="web_app_set_background_color",Tn="web_app_set_bottom_bar_color",dt="web_app_set_header_color",rl="visibility_changed",Te="miniApp",Xi={any:[Ln,Tn,dt]},sl=e=>{dr.set(e.is_visible),Wt()},[il,ol,al,Yi]=st(Te,e=>zi(e).then(()=>ie()&&se(Te)||void 0),e=>{cl.ifAvailable(e?e.backgroundColor:"bg_color"),ll.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),fl.ifAvailable(e?e.headerColor:"bg_color"),dr.set(e?e.isActive:!0),q(rl,sl)}),Zi=ve(Te),ul=K(Te,Xi),Mt=we(Te,Yi[0],Xi);Mt("bindCssVars",e=>{if(nn())throw new Xn;const[t,n]=Jn();function r(s,i){function o(){lr(s,i()||null)}o(),t(i.sub(o),fr.bind(null,s))}return e||(e=s=>`--tg-${ii(s)}`),r(e("bgColor"),el),r(e("bottomBarColor"),Ji),r(e("headerColor"),tl),t(()=>{nn.set(!1)}),nn.set(!0),n});Zi("close",e=>{k("web_app_close",{return_back:e})});ul("mount",il);const[,jp,Cp]=ol,[,Lp]=al,[Tp,Op]=Yi;Zi("ready",()=>{k("web_app_ready")});function Wt(){re(Te,nl())}const cl=Mt("setBackgroundColor",e=>{e!==vt()&&(k(Ln,{color:e}),vt.set(e),Wt())},Ln),ll=Mt("setBottomBarColor",e=>{e!==At()&&(k(Tn,{color:e}),At.set(e),Wt())},Tn),fl=Mt("setHeaderColor",e=>{e!==Et()&&(k(dt,wt(e)?{color:e}:{color_key:e}),Et.set(e),Wt())},dt,{rgb:[dt,"color",wt]});function dl(e){const t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new he(`Invalid title: ${n}`);if(!t||t.length>256)throw new he(`Invalid message: ${t}`);if(r.length>3)throw new he(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((s,i)=>{const o=s.id||"";if(o.length>64)throw new he(`Button with index ${i} has invalid id: ${o}`);if(!s.type||s.type==="default"||s.type==="destructive"){const a=s.text.trim();if(!a||a.length>64)throw new he(`Button with index ${i} has invalid text: ${a}`);return{type:s.type,text:a,id:o}}return{type:s.type,id:o}}):[{type:"close",id:""}]}}const Qi="web_app_open_popup",eo=K("popup",Qi),[to,pr,no]=M(e=>D(Qi,"popup_closed",{...e,params:dl(e)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened");eo("open",to);pr[1];pr[2];no[1];eo("show",to);const[,Rp,Ip]=pr,[,Dp]=no,ro="web_app_close_scan_qr_popup",so="web_app_open_scan_qr_popup",pl="scan_qr_popup_closed",hl="qr_text_received",io=K("qrScanner",so);io("close",()=>{k(ro),Wu(_l)});function yl(e){e||(e={});const{onCaptured:t,text:n,capture:r}=e,[,s]=Jn(q(pl,()=>{i.resolve()}),q(hl,o=>{t?t(o.data):(!r||r(o.data))&&(i.resolve(o.data),k(ro))})),i=new Bu(e);return(e.postEvent||k)(so,{text:n}),B.resolve(i).catch(mi).finally(s)}const[gl,ml,bl]=M(yl,"The QR Scanner is already opened");io("open",gl);const[,_l,qp]=ml,[,Up]=bl,ze=De({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),wl=O(()=>{const e=ze();return{...e,backgroundColor:e.backgroundColor||Ji()||"#000000",textColor:e.textColor||Fi()||"#2481cc"}}),[ts,vl]=A(!1),hr="web_app_setup_secondary_button",oo="secondary_button_pressed",Vt="secondaryButton",yr=K(Vt,hr),Al=we(Vt,vl,hr);yr("mount",()=>{if(!ts()){const e=ie()&&se(Vt);e&&ze.set(e),ts.set(!0)}});yr("onClick",e=>q(oo,e));yr("offClick",e=>{tt(oo,e)});Al("setParams",e=>{ze.set({...ze(),...ar(e)}),re(Vt,ze());const t=wl();t.text&&k(hr,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});const gr="web_app_setup_settings_button",ao="settings_button_pressed",Ft="settingsButton",[ns,Np]=A(!1),[On,Bp]=A(!1),mr=K(Ft,gr),uo=we(Ft,On,gr);uo("hide",()=>{br(!1)});mr("mount",()=>{On()||(br(ie()&&se(Ft)||!1),On.set(!0))});function br(e){e!==ns()&&(k(gr,{is_visible:e}),re(Ft,e),ns.set(e))}mr("onClick",e=>q(ao,e));mr("offClick",e=>{tt(ao,e)});uo("show",()=>{br(!0)});const _r="web_app_setup_swipe_behavior",Kt="swipeBehavior",[Rn,Mp]=A(!1),[rs,Wp]=A(!0),El=K(Kt,_r),co=we(Kt,Rn,_r);co("disableVertical",()=>{wr(!1)});co("enableVertical",()=>{wr(!0)});El("mount",()=>{Rn()||(wr(ie()&&se(Kt)||!1,!0),Rn.set(!0))});function wr(e,t){(e!==rs()||t)&&(k(_r,{allow_vertical_swipe:e}),re(Kt,e),rs.set(e))}const xe="viewport",lo="fullscreen_changed",fo="safe_area_changed",po="content_safe_area_changed",ho="viewport_changed",yo=ve(xe),ss={left:0,top:0,bottom:0,right:0};function rn(e){return Math.max(e,0)}const[sn,kl]=A({contentSafeAreaInsets:ss,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:ss,stableHeight:0,width:0});function qe(e){return O(()=>kl()[e])}const xl=qe("height"),Sl=qe("stableHeight"),$l=qe("width");function Ue(e){const{height:t,stableHeight:n,width:r}=e;sn.set({...sn(),...ar({...e,height:t?rn(t):void 0,width:r?rn(r):void 0,stableHeight:n?rn(n):void 0})}),re(xe,sn())}function Pl(){return se(xe)}function Gt(e){return O(()=>go()[e])}const go=qe("contentSafeAreaInsets"),jl=Gt("bottom"),Cl=Gt("left"),Ll=Gt("right"),Tl=Gt("top");function zt(e){return O(()=>mo()[e])}const mo=qe("safeAreaInsets"),Ol=zt("bottom"),Rl=zt("left"),Il=zt("right"),Dl=zt("top"),bo="web_app_request_safe_area",_o=K(xe,bo),is=_o("requestContentSafeAreaInsets",e=>D("web_app_request_content_safe_area",po,e));function ql(e){return D("web_app_request_viewport",ho,e)}const os=_o("requestSafeAreaInsets",e=>D(bo,fo,e)),Ul=e=>{const{height:t}=e;Ue({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},Nl=e=>{Ue({isFullscreen:e.is_fullscreen})},Bl=e=>{Ue({safeAreaInsets:e})},Ml=e=>{Ue({contentSafeAreaInsets:e})},[Wl,Vl,Fl,Kl]=st(xe,e=>{const t=ie()&&Pl();return t?B.resolve(t):B.fn(async n=>{const r=await B.all([os.isAvailable()?os(n):mo(),is.isAvailable()?is(n):go()]),s=li(),i={contentSafeAreaInsets:r[1],isFullscreen:!!s.tgWebAppFullscreen,safeAreaInsets:r[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(s.tgWebAppPlatform)){const o=window;return{...i,height:o.innerHeight,isExpanded:!0,stableHeight:o.innerHeight,width:o.innerWidth}}return ql(n).then(o=>({...i,height:o.height,isExpanded:o.is_expanded,stableHeight:o.is_state_stable?o.height:0,width:o.width}))},e)},e=>{q(ho,Ul),q(lo,Nl),q(fo,Bl),q(po,Ml),Ue(e)}),Gl=yo("mount",Wl),[,Vp,Fp]=Vl,[,Kp]=Fl,[wo,Gp]=Kl,zl=qt(xe,wo),[on,zp]=A(!1),Hl=zl("bindCssVars",e=>{if(on())throw new Xn;e||(e=n=>`--tg-viewport-${ii(n)}`);const t=[["height",xl],["stableHeight",Sl],["width",$l],["safeAreaInsetTop",Dl],["safeAreaInsetBottom",Ol],["safeAreaInsetLeft",Rl],["safeAreaInsetRight",Il],["contentSafeAreaInsetTop",Tl],["contentSafeAreaInsetBottom",jl],["contentSafeAreaInsetLeft",Cl],["contentSafeAreaInsetRight",Ll]].reduce((n,[r,s])=>{const i=e(r);if(i){const o=()=>{lr(i,`${s()}px`)};n.push([o,s.sub(o),i])}return n},[]);return t.forEach(n=>{n[0]()}),on.set(!0),()=>{t.forEach(n=>{n[1](),fr(n[2])}),on.set(!1)}});yo("expand",()=>{k("web_app_expand")});const vo="web_app_request_fullscreen",Jl=we(xe,wo,vo),Xl=qe("isFullscreen"),[Yl,Hp]=A(),[Zl,Jp]=A();function Ao(e,t){return Jl(e,M(n=>D(t?vo:"web_app_exit_fullscreen",[lo,"fullscreen_failed"],n).then(r=>{if("error"in r&&r.error!=="ALREADY_FULLSCREEN")throw new Tu(r.error);const s="is_fullscreen"in r?r.is_fullscreen:!0;s!==Xl()&&Ue({isFullscreen:s})}),"Fullscreen mode change is already being requested",{promise:Yl,error:Zl})[0])}Ao("requestFullscreen",!0);Ao("exitFullscreen");const Ql="web_app_request_emoji_status_access",[Xp,ef,tf]=M(e=>D(Ql,"emoji_status_access_requested",e).then(t=>t.status),"Emoji status access request is already in progress"),[,Yp,Zp]=ef,[,Qp]=tf,nf="web_app_set_emoji_status",[eh,rf,sf]=M((e,t)=>D(nf,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(n=>{if(n&&"error"in n)throw new Cu(n.error)}),"Emoji status set request is currently in progress"),[,th,nh]=rf,[,rh]=sf,of="web_app_check_home_screen",[sh,af,uf]=M(e=>D(of,"home_screen_checked",e).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),[,ih,oh]=af,[,ah]=uf,cf=ve();cf("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(n){throw new he(`"${e.toString()}" is invalid URL`,n)}t||(t={}),k("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})});const as="web_app_open_tg_link",lf=ve(),ff=lf("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new he(`"${t}" is invalid URL`);if(!Ye(as,Pe())){window.location.href=t;return}e=new URL(e),k(as,{path_full:e.pathname+e.search})}),df=ve();df("shareURL",(e,t)=>{ff("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function pf(e,t){return new B({abortSignal:t,timeout:e}).catch(()=>{})}const Eo="web_app_request_phone",[hf,yf,gf]=M(e=>D(Eo,"phone_requested",e).then(t=>t.status),"Phone access request is currently in progress"),mf=Yn("requestPhoneAccess",hf,{isSupported:Eo}),[,uh,ch]=yf,[,lh]=gf;async function us(e){const t=await rt("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3});return ir(ft(Ri([J(),Ci(URLSearchParams)]),Wi(Pn({contact:ft(J(),Uc(),Pn({user_id:Li(),phone_number:J(),first_name:J(),last_name:Ti(J())})),auth_date:ft(J(),Si(n=>new Date(Number(n)*1e3)),ji()),hash:J()}))),t)}const[fh,bf,_f]=M(e=>new B(async(t,n,r)=>{try{return t(await us(r))}catch(i){if(i instanceof $n)throw i}if(await mf(r)!=="sent")throw new Lu("User denied access");let s=50;for(;!r.isAborted();){try{return t(await us(r))}catch(i){if(i instanceof $n)throw i}await pf(s),s+=50}},e),"Contact is already being requested"),[,dh,ph]=bf,[,hh]=_f,wf="web_app_request_write_access",[yh,vf,Af]=M(e=>D(wf,"write_access_requested",e).then(t=>t.status),"Write access request is currently in progress"),[,gh,mh]=vf,[,bh]=Af;function Ef(e){Su(e);const[t,n]=Jn(q("reload_iframe",()=>{An(!1,"Received a request to reload the page"),k("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}={};if(r){const s=document.createElement("style");s.id="telegram-custom-styles",document.head.appendChild(s),t(q("set_custom_style",i=>{s.innerHTML=i}),()=>{document.head.removeChild(s)})}return k("iframe_ready",{reload_supported:!0}),An(!1,"The package was initialized"),n}var an;function ko(e){return{lang:e?.lang??an?.lang,message:e?.message,abortEarly:e?.abortEarly??an?.abortEarly,abortPipeEarly:e?.abortPipeEarly??an?.abortPipeEarly}}var kf;function xf(e){return kf?.get(e)}var Sf;function $f(e){return Sf?.get(e)}var Pf;function jf(e,t){return Pf?.get(e)?.get(t)}function In(e){const t=typeof e;return t==="string"?`"${e}"`:t==="number"||t==="bigint"||t==="boolean"?`${e}`:t==="object"||t==="function"?(e&&Object.getPrototypeOf(e)?.constructor?.name)??"null":t}function ne(e,t,n,r,s){const i=s&&"input"in s?s.input:n.value,o=s?.expected??e.expects??null,a=s?.received??In(i),u={kind:e.kind,type:e.type,input:i,expected:o,received:a,message:`Invalid ${t}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:s?.path,issues:s?.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},c=e.kind==="schema",f=s?.message??e.message??jf(e.reference,u.lang)??(c?$f(u.lang):null)??r.message??xf(u.lang);f&&(u.message=typeof f=="function"?f(u):f),c&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function pe(e){return{version:1,vendor:"valibot",validate(t){return e["~run"]({value:t},ko())}}}function Cf(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function Lf(e,t){const n=[...new Set(e)];return n.length>1?`(${n.join(` ${t} `)})`:n[0]??"never"}var Tf=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function xo(e){return{kind:"validation",type:"integer",reference:xo,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(t,n){return t.typed&&!this.requirement(t.value)&&ne(this,"integer",t,n),t}}}function So(e,t){return{kind:"validation",type:"min_value",reference:So,async:!1,expects:`>=${e instanceof Date?e.toJSON():In(e)}`,requirement:e,message:t,"~run"(n,r){return n.typed&&!(n.value>=this.requirement)&&ne(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():In(n.value)}),n}}}function Ht(e){return{kind:"transformation",type:"transform",reference:Ht,async:!1,operation:e,"~run"(t){return t.value=this.operation(t.value),t}}}function vr(e,t,n){return typeof e.default=="function"?e.default(t,n):e.default}function $o(e,t){return{kind:"schema",type:"array",reference:$o,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return pe(this)},"~run"(n,r){const s=n.value;if(Array.isArray(s)){n.typed=!0,n.value=[];for(let i=0;i<s.length;i++){const o=s[i],a=this.item["~run"]({value:o},r);if(a.issues){const u={type:"array",origin:"value",input:s,key:i,value:o};for(const c of a.issues)c.path?c.path.unshift(u):c.path=[u],n.issues?.push(c);if(n.issues||(n.issues=a.issues),r.abortEarly){n.typed=!1;break}}a.typed||(n.typed=!1),n.value.push(a.value)}}else ne(this,"type",n,r);return n}}}function Po(e){return{kind:"schema",type:"date",reference:Po,expects:"Date",async:!1,message:e,get"~standard"(){return pe(this)},"~run"(t,n){return t.value instanceof Date?isNaN(t.value)?ne(this,"type",t,n,{received:'"Invalid Date"'}):t.typed=!0:ne(this,"type",t,n),t}}}function jo(e,t){return{kind:"schema",type:"instance",reference:jo,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return pe(this)},"~run"(n,r){return n.value instanceof this.class?n.typed=!0:ne(this,"type",n,r),n}}}function Z(e,t){return{kind:"schema",type:"loose_object",reference:Z,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return pe(this)},"~run"(n,r){const s=n.value;if(s&&typeof s=="object"){n.typed=!0,n.value={};for(const i in this.entries){const o=this.entries[i];if(i in s||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const a=i in s?s[i]:vr(o),u=o["~run"]({value:a},r);if(u.issues){const c={type:"object",origin:"value",input:s,key:i,value:a};for(const f of u.issues)f.path?f.path.unshift(c):f.path=[c],n.issues?.push(f);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value[i]=u.value}else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(ne(this,"key",n,r,{input:void 0,expected:`"${i}"`,path:[{type:"object",origin:"key",input:s,key:i,value:s[i]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly)for(const i in s)Cf(s,i)&&!(i in this.entries)&&(n.value[i]=s[i])}else ne(this,"type",n,r);return n}}}function Co(e,t){return{kind:"schema",type:"nullable",reference:Co,expects:`(${e.expects} | null)`,async:!1,wrapped:e,default:t,get"~standard"(){return pe(this)},"~run"(n,r){return n.value===null&&(this.default!==void 0&&(n.value=vr(this,n,r)),n.value===null)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function Ae(e,t){return{kind:"schema",type:"optional",reference:Ae,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return pe(this)},"~run"(n,r){return n.value===void 0&&(this.default!==void 0&&(n.value=vr(this,n,r)),n.value===void 0)?(n.typed=!0,n):this.wrapped["~run"](n,r)}}}function te(e){return{kind:"schema",type:"string",reference:te,expects:"string",async:!1,message:e,get"~standard"(){return pe(this)},"~run"(t,n){return typeof t.value=="string"?t.typed=!0:ne(this,"type",t,n),t}}}function cs(e){let t;if(e)for(const n of e)t?t.push(...n.issues):t=n.issues;return t}function Lo(e,t){return{kind:"schema",type:"union",reference:Lo,expects:Lf(e.map(n=>n.expects),"|"),async:!1,options:e,message:t,get"~standard"(){return pe(this)},"~run"(n,r){let s,i,o;for(const a of this.options){const u=a["~run"]({value:n.value},r);if(u.typed)if(u.issues)i?i.push(u):i=[u];else{s=u;break}else o?o.push(u):o=[u]}if(s)return s;if(i){if(i.length===1)return i[0];ne(this,"type",n,r,{issues:cs(i)}),n.typed=!0}else{if(o?.length===1)return o[0];ne(this,"type",n,r,{issues:cs(o)})}return n}}}function Ar(){return{kind:"schema",type:"unknown",reference:Ar,expects:"unknown",async:!1,get"~standard"(){return pe(this)},"~run"(e){return e.typed=!0,e}}}function kt(e,t,n){const r=e["~run"]({value:t},ko(n));if(r.issues)throw new Tf(r.issues);return r.value}function xt(...e){return{...e[0],pipe:e,get"~standard"(){return pe(this)},"~run"(t,n){for(const r of e)if(r.kind!=="metadata"){if(t.issues&&(r.kind==="schema"||r.kind==="transformation")){t.typed=!1;break}(!t.issues||!n.abortEarly&&!n.abortPipeEarly)&&(t=r["~run"](t,n))}return t}}}var Of=ue("<iframe class=app-container>");function Rf(e){let t;const n=setTimeout(e.onTimeout,e.loadTimeout);return ln(()=>{const{contentWindow:r}=t;if(!r){console.error("contentWindow is missing");return}const s=({data:i,source:o})=>{let a;try{a=kt(Z({eventType:te(),eventData:Ae(Ar())}),JSON.parse(i))}catch{}a&&(o===r?(a.eventType==="web_app_ready"&&(clearTimeout(n),e.onReady()),k(a.eventType,a.eventData)):r.postMessage(i,"*"))};window.addEventListener("message",s),Ct(()=>{window.removeEventListener("message",s)})}),(()=>{var r=Of();r.addEventListener("error",()=>{clearTimeout(n),e.onError()});var s=t;return typeof s=="function"?js(s,r):t=r,ee(()=>Je(r,"src",e.url)),r})()}function To(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function Dn(...e){return e.map(t=>{if(typeof t=="string")return t;if(To(t))return Dn(Object.entries(t).map(n=>n[1]&&n[0]));if(Array.isArray(t))return Dn(...t)}).filter(Boolean).join(" ")}function If(...e){return e.reduce((t,n)=>(To(n)&&Object.entries(n).forEach(([r,s])=>{const i=Dn(t[r],s);i&&(t[r]=i)}),t),{})}var Df=ue("<picture><source><img>");function qf(e){const t=I(()=>If({root:["picture",e.class]},e.classes)),n=I(()=>{const[r]=Ss(e,["width","height"]);return G(r,{class:t().image})});return(()=>{var r=Df(),s=r.firstChild,i=s.nextSibling;return $r(s,G(n,{type:"image/webp"},()=>e.webp),!1),$r(i,G(n,{get alt(){return e.alt}},()=>e.png),!1),ee(()=>qn(r,t().root)),r})()}var Uf=ue("<p class=status-page__subtitle>"),Nf=ue("<div class=status-page><h1 class=status-page__title>");function Oo(e){return(()=>{var t=Nf(),n=t.firstChild;return ye(t,y(ge,{get when(){return e.image},children:r=>y(qf,G({class:"status-page__image"},r))}),n),ye(n,()=>e.title),ye(t,y(ge,{get when(){return e.subtitle},get children(){var r=Uf();return ye(r,()=>e.subtitle),r}}),null),t})()}const Bf={width:176,height:176,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAACE4AAAhOAFFljFgAAABpUlEQVR4nAGaAWX+AP//PwDlfxkD8a44E/TCYSr2y3A+98tvPvXCXSrzrzIT5YgIA///PwAA7GccA/WzMR340V5J+t+FefvqopL86qCS+t99efnSVkn1tCsd7G0bAwD3oRMS+cQySffRVZD54XzN+uma5frpl+X54HXN99FOkPnDLEn1oRISAPepFyn0vy559M1Kzfffbfj67Ir9+uyH/fbeZ/jzzEPO9L4qevapFSkA+KwWPvO9KJLuwDTl785K/fLWV/3y1VX9781G/e2+MefzuyaT9q0VPgD3phM+87Mgkuy0JuXrvzH97MU2/ezENv3rvjD967Ik5/KyH5P2pxM+APWdDir2qxl676wdzeuxIvjmsSX957Ek/euwIvnuqxzO9akYevSdDioA85AHE/ahEknxoxWR7aQZz+iiGujooRro7aIYz/GhFZL2nxFK848HEwDkcgAD74wIHfScDUrumhB76pkTlOqYEpTtmBB785oMSu+LBx7kcgADAP//AADndwAD6X0CE+uEBSvtiAc/7IgHP+uEBSvofAIT53cAA///AAAPC+WHFwPUTAAAAABJRU5ErkJggg==",webp:{src:new URL("sad-BsqlIXVJ.webp",import.meta.url).href,srcSet:[new URL("sad-BsqlIXVJ.webp",import.meta.url).href+" 1x",new URL("sad@2x-DAmuIeh4.webp",import.meta.url).href+" 2x",new URL("sad@3x-B4GN_gY3.webp",import.meta.url).href+" 3x"].join(", ")},png:{src:new URL("sad-DsbDWqzY.png",import.meta.url).href,srcSet:[new URL("sad-DsbDWqzY.png",import.meta.url).href+" 1x",new URL("sad@2x-Ct2XRsmL.png",import.meta.url).href+" 2x",new URL("sad@3x-CFhe2OeP.png",import.meta.url).href+" 3x"].join(", ")}};function oe(e){return y(Oo,G(e,{image:Bf}))}function Mf(){return y(oe,{title:"App not found",subtitle:"This application doesn't exist or was hidden by the owner"})}var Wf=ue("<b>(<!>)");function Er(e){const t="Network error",n="Oops!";function r(l){return()=>l(e.error)}const s=r(l=>l[0]==="fetch"?l[1]:!1),i=r(l=>l[0]==="gql"?l[1]:!1),o=r(l=>l[0]==="http"?[l[1],l[2]]:!1),a=r(l=>l[0]==="invalid-data"?l[1]:!1),u=r(l=>l[0]==="iframe"?[l[1]]:!1),c=r(l=>l[0]==="execution"?l[1]:!1),f=r(l=>l[0]==="unknown"?l[1]:!1);return y(bt,{get children(){return[y(W,{get when(){return s()},get children(){return y(oe,{title:t,subtitle:"Unable to send request to the server. The server is unreachable"})}}),y(W,{get when(){return i()},children:l=>y(oe,{title:n,get subtitle(){return["Server returned errors:"," ",y(Ps,{get each(){return l()},children:(d,h)=>[I(()=>h()?", ":""),I(()=>d.message)," ",(()=>{var b=Wf(),L=b.firstChild,_=L.nextSibling;return _.nextSibling,ye(b,()=>d.data.code,_),b})()]})]}})}),y(W,{get when(){return o()},children:l=>y(oe,{title:t,get subtitle(){return`Server responded with status ${l()[0]}: ${l()[1]}`}})}),y(W,{get when(){return f()},children:l=>{const d=()=>{const h=l();return`Unknown error occurred${h instanceof Error?`: ${h.message}`:""}`};return y(oe,{title:n,get subtitle(){return d()}})}}),y(W,{get when(){return a()},children:l=>y(oe,{title:n,get subtitle(){return`Server returned unexpected response: ${l().message}`}})}),y(W,{get when(){return u()},children:l=>y(oe,{title:n,get subtitle(){return`Application failed to load due to ${l()[0]?"timeout":"unknown reason"}`}})}),y(W,{get when(){return c()},children:l=>y(oe,{title:n,get subtitle(){return`Application failed to load. ${l().message}`}})})]}})}const Vf={width:112,height:112,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAACE4AAAhOAFFljFgAAABfElEQVR4nCXK0UrCUACA4XO7t2jdK0ESFMFRcWqmy6VzTXf0nM3NTV3Tpp00k0DKC+nGsocIo3qm9BXKGw8xuvjgv/gBhBDE04iTK96uplMBN24JboywZlBBrnh8LFXmggfAxAWnID9stu+NDp290vH8nY7nS4/OFmbrnihVP3QcVzggyk2+ag50w7n7cnvTtT982gTa/nSl26MPZNzgM7m1A3JFR6g3xwvncrz2ehPW6T+wq+vHredPtqYzWFVI//ms5MaBWHRquj1aWs3hxm7fMtMZMKs1ZEHr1vVPGffe8oqLwKlk1pBBl3qD/ho2ZbW6z7DZZ//d+ymhzlu2YGsgmSWJc9VdlFB3rWKfKdUuU2rdrYr9bQl1vyXVfU7mSBxAocJnJItkC/anKDtrsWhvRDngrLIF+yMjWRgmtR0QjohcLKWFkzmin+Tri4xkLgMn+fqLkCMkmkKh0L7IAQAg2DtIc0fRcx4KqhBLazgABTVxGC3w4UiGC54/9PWjcPGh2NQAAAAASUVORK5CYII=",webp:{src:new URL("nothing-here-CtOmfi57.webp",import.meta.url).href,srcSet:[new URL("nothing-here-CtOmfi57.webp",import.meta.url).href+" 1x",new URL("nothing-here@2x-CnXOrL4f.webp",import.meta.url).href+" 2x",new URL("nothing-here@3x-DbPY-Y_f.webp",import.meta.url).href+" 3x"].join(", ")},png:{src:new URL("nothing-here-YHpd-3Fc.png",import.meta.url).href,srcSet:[new URL("nothing-here-YHpd-3Fc.png",import.meta.url).href+" 1x",new URL("nothing-here@2x-CcIAJ6vO.png",import.meta.url).href+" 2x",new URL("nothing-here@3x-DZ-bwEW1.png",import.meta.url).href+" 3x"].join(", ")}};function ls(){return y(Oo,{image:Vf,title:"Nothing here",subtitle:"The application is inaccessible on your device"})}var Ff=Object.defineProperty,Kf=(e,t,n)=>t in e?Ff(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fs=(e,t,n)=>Kf(e,typeof t!="symbol"?t+"":t,n);function Gf(e){return t=>t instanceof e}function Ro(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,Gf(n)]}const[zf,_h]=Ro("CancelledError","Promise was canceled"),[Io,wh]=Ro("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),Do=Symbol("Resolved");function ds(e){return Array.isArray(e)&&e[0]===Do}function Hf(e){return[Do,e]}function ps(e,t){return e.reject=t.reject,e.abort=t.abort,e}class St extends Promise{constructor(t,n){let r,s;super((i,o)=>{let a,u;typeof t=="function"?(a=t,u=n):u=t;const c=[],f=p=>(...$)=>{const v=p(...$);return c.forEach(S=>S()),v},l=new AbortController,{signal:d}=l;s=p=>{!d.aborted&&l.abort(p)};const h=()=>d.reason,b=p=>{const $=()=>{p(h())};d.addEventListener("abort",$,!0);const v=()=>{d.removeEventListener("abort",$,!0)};return c.push(v),v},L=f(p=>{i(p),s(Hf(p))});r=f(p=>{o(p),s(p)}),u||(u={});const{abortSignal:_,rejectOnAbort:j=!0}=u;if(_)if(_.aborted){const{reason:p}=_;if(j)return r(p);s(p)}else{const p=()=>{s(_.reason)};_.addEventListener("abort",p),c.push(()=>{_.removeEventListener("abort",p)})}j&&b(o);const{timeout:g}=u;if(g){const p=setTimeout(()=>{s(new Io(g))},g);c.push(()=>{clearTimeout(p)})}const m=()=>d.aborted,w=()=>ds(h()),x=()=>{const p=h();return ds(p)?p[1]:void 0};try{const p=a&&a(L,r,{abortReason:h,abortSignal:d,isAborted:m,isResolved:w,onAborted:b,onResolved:$=>b(()=>{w()&&$(x())}),resolved:x,throwIfAborted(){if(m())throw h()}});p instanceof Promise&&p.catch(r)}catch(p){r(p)}}),fs(this,"abort"),fs(this,"reject"),this.abort=s,this.reject=r}static fn(t,n){return new St(async(r,s,i)=>{try{r(await t(i))}catch(o){s(o)}},n)}static resolve(t){return this.fn(()=>t)}static reject(t){return new St((n,r)=>{r(t)})}cancel(){this.abort(new zf)}catch(t){return this.then(void 0,t)}finally(t){return ps(super.finally(t),this)}then(t,n){return ps(super.then(t,n),this)}}function Jf(e){const[t,n]=Y(new AbortController);return jt(()=>{const r=typeof e=="function"?e():e,s=t(),i=setTimeout(()=>{s.abort(new Io(r))},r);Ct(()=>{clearTimeout(i),n(new AbortController)})}),()=>t().signal}var Xf=Object.defineProperty,Yf=(e,t,n)=>t in e?Xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zf=(e,t,n)=>Yf(e,t+"",n);function qo(e){return t=>t instanceof e}function Qf(e,t){t||(t=[]);class n extends Error{constructor(...s){const i=typeof t=="function"?t(...s):typeof t=="string"?[t]:t||[];super(...i),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,qo(n)]}function ed(e,t,n){class r extends Qf(e,n)[0]{constructor(...i){super(...i),Zf(this,"data"),this.data=t(...i)}}return Object.defineProperty(r,"name",{value:e}),[r,qo(r)]}const[td]=ed("GqlError",(e,t)=>({code:e,message:t}),(e,t)=>[t||""]);function $t(e){return Ae(Co(e))}const nd=Z({data:Ar(),errors:$t($o(Z({message:$t(te()),extensions:Z({errorData:Z({code:te()})})})))});function Be(e){return[!1,e]}function Uo(e,t,n,r,s){async function i(o){let a;try{const f=new AbortController;o.onAborted(()=>{!o.isResolved()&&f.abort(o.abortReason())}),a=await fetch(e,{signal:f.signal,method:"POST",headers:{"Content-Type":"application/json",Authorization:`jwt ${(s||{}).authToken}`},body:JSON.stringify({query:t,variables:n})})}catch(f){return Be(["fetch",f])}let u,c;if((a.headers.get("content-type")||"").includes("application/json")&&(u=await a.json().then(f=>kt(nd,f)).catch(f=>{c=f})),!u)return Be(a.ok?["invalid-data",c]:["http",a.status,a.statusText]);if(u.errors)return Be(["gql",u.errors.map(f=>new td(f.extensions.errorData.code,f.message||void 0))]);try{return[!0,kt(r,u.data)]}catch(f){return Be(["invalid-data",f])}}return new St(async(o,a,u)=>{for(let f=0;f<3;f++){const l=await i(u);if(l[0]||f===2)return o(l);await new Promise(d=>{setTimeout(d,Math.pow(2,f+3)*100)})}},s).catch(o=>Be(["execution",o]))}const rd=Z({token:te(),expiresAt:xt(te(),Ht(e=>new Date(e)),Po())});function sd(e){return Uo(e.apiBaseURL,"mutation Authenticate($appID: Int, $initData: String!) { authenticateTelegram(appID: $appID, initData: $initData) {  token  expiresAt }}",{appID:e.appID,initData:e.initData},Z({authenticateTelegram:rd}),e).then(t=>t[0]?[!0,t[1].authenticateTelegram]:t)}function id(e){return Uo(e.apiBaseURL,"query GetAppURL ($appID: Int!, $launchParams: String!) { app(appID: $appID) {  telegramURL(launchParams: $launchParams, isExternal: true) }}",{appID:e.appID,launchParams:e.launchParams},Z({app:$t(Z({telegramURL:$t(te())}))}),{...e,authToken:e.authToken}).then(t=>t[0]?[!0,t[1].app?[!0,t[1].app.telegramURL]:[!1]]:t)}function hs(e,t,n){let r,s,i;typeof t=="object"||!t?[s,i]=[e,t]:[r,s,i]=[e,t,n];const o=async(...l)=>{const d=await s(...l);if(d[0])return d[1];throw d[1]},[a,u]=vs(r||o,o||i,i),{onData:c,onError:f}=i||{};return jt(()=>{a.state==="ready"&&c&&c(a()),a.state==="errored"&&f&&f(a.error.cause)}),[a,u]}function ys(e){const[t]=Ss(e,["url","loadTimeout","onReady"]);return y(ge,{get when(){return e.url.startsWith("http://")},get fallback(){return y(Rf,G(t,{onError:()=>{e.onError(["iframe"])},onTimeout:()=>{e.onError(["iframe",!0])}}))},get children(){return window.location.href=e.url,e.onReady(),null}})}function od(e){const t=Jf(()=>e.initTimeout),[n,r]=Y(),s=()=>G(e,{abortSignal:t(),launchParams:e.securedLaunchParams,initData:e.securedInitData}),[i]=hs(s,async a=>sd(a),{onError:r}),[o]=hs(()=>{const a=i.state==="ready"?i().token:void 0;return a?G(s(),{authToken:a}):!1},id,{onError:r});return jt(()=>{const a=n();a&&!e.fallbackURL&&e.onError(a)}),y(bt,{get children(){return[y(W,{get when(){return n()},children:a=>y(ge,{get when(){return e.fallbackURL},get fallback(){return ln(()=>{e.onError(a())}),y(Er,{get error(){return a()}})},children:u=>y(ys,G(e,{get url(){return u()},onReady:()=>{e.onReady(u())},onError:c=>{e.onError(c,u())}}))})}),y(W,{get when(){return I(()=>o.state==="ready")()&&o()},children:a=>y(bt,{get fallback(){return y(ls,{})},get children(){return[y(W,{get when(){return a()[1]},children:u=>{const c=I(()=>{const f=new URL(u()),l=new URLSearchParams(f.hash.slice(1));return new URLSearchParams(e.rawLaunchParams).forEach((d,h)=>{l.set(h,d)}),f.hash="#"+l.toString(),f.toString()});return y(ys,G(e,{get url(){return c()},onError:r}))}}),y(W,{get when(){return I(()=>!a()[1])()?a()[0]?"no-url":"no-app":!1},children:u=>(ln(()=>{e.onReady()}),y(ge,{get when(){return u()==="no-app"},get fallback(){return y(ls,{})},get children(){return y(Mf,{})}}))})]}})})]}})}function ad(e){const[t,n]=Y();return y(bt,{get children(){return[y(W,{get when(){return t()},children:r=>y(Er,{get error(){return r()}})}),y(W,{when:!0,get children(){return y(od,G(e,{onError:(r,s)=>{s&&console.error("Fallback URL failed to load:",s),n(r),e.onReady()},onReady:r=>{r&&console.warn("Platformer failed to load. Used fallback:",r),e.onReady()}}))}})]}})}function ud(e){return y(Er,{error:["unknown",e]})}function un(){return xt(te(),Ht(Number),xo(),So(1))}function gs(e,t){return Object.assign(()=>{const n=e();if(n[0]!==t)throw new Error("Illegal data access. Data is not ready");return n[1]},{ok:()=>e()[0]===t})}function cd(e){return[gs(e,!0),gs(e,!1)]}const ld="modulepreload",fd=function(e){return"https://platformer-hq.github.io/platformer-tg-launcher/"+e},ms={},cn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(n.map(u=>{if(u=fd(u),u in ms)return;ms[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":ld,c||(l.as="script"),l.crossOrigin="",l.href=u,a&&l.setAttribute("nonce",a),document.head.appendChild(l),c)return new Promise((d,h)=>{l.addEventListener("load",d),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function dd(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}async function pd(e,t){if(xu(e),Ef(),cn(async()=>{const{default:n}=await import("./mixpanel.module-DGlNhZnM.js");return{default:n}},[]).then(({default:n})=>{n.init("cd00b1f58f9d1fab5d5407fadcf2fba9",{debug:e,track_pageview:!0,persistence:"localStorage"})}).catch(n=>{console.error("Something went wrong with Mixpanel:",n)}),cn(async()=>{const{init:n}=await import("./sentry-BgC9sl5L.js");return{init:n}},[]).then(({init:n})=>{n({dsn:"https://8888815a88eb8e06bd1ac55195df9ab0@o992980.ingest.us.sentry.io/4508812774473728",environment:"production",debug:e})}).catch(n=>{console.error("Something went wrong with Sentry:",n)}),e&&cn(async()=>{const{default:n}=await import("./eruda-BRYMG_BU.js").then(r=>r.e);return{default:n}},[]).then(({default:n})=>{n.init(),n.position({x:window.innerWidth-50,y:0})}).catch(console.error),vc.restore(),t==="macos"){let n=!1;hu({onEvent(r,s){if(r[0]==="web_app_request_theme"){let i={};return n?i=Nc():(n=!0,i||=nt().tgWebAppThemeParams),_t("theme_changed",{theme_params:i})}if(r[0]==="web_app_request_safe_area")return _t("safe_area_changed",{left:0,top:0,right:0,bottom:0});s()}})}await Promise.all([zi().then(()=>{Qc()}),Gl().then(()=>{Hl(n=>{const r=dd(n);return n.startsWith("safeArea")||n.startsWith("contentSafeArea")?`--${r}`:`--viewport-${r}`})})])}var hd=ue("<div>"),yd=ue("<svg class=loader__base-root><circle cx=50% cy=50% r=50% stroke-linecap=round stroke=currentcolor>"),gd=ue("<div class=loader__ios-line>");function md(e){const t=()=>["ios","macos"].includes(e.platform||"")?"ios":"base";return(()=>{var n=hd();return ye(n,y(ge,{get when(){return t()==="ios"},get fallback(){return yd()},get children(){return y(Ps,{get each(){return new Array(8).fill(null)},children:(r,s)=>(()=>{var i=gd();return ee(o=>{var a=`${100*s()}ms`,u=`rotate(${45*s()}deg) translate3d(0, -115%, 0)`;return a!==o.e&&((o.e=a)!=null?i.style.setProperty("animation-delay",a):i.style.removeProperty("animation-delay")),u!==o.t&&((o.t=u)!=null?i.style.setProperty("transform",u):i.style.removeProperty("transform")),o},{e:void 0,t:void 0}),i})()})}})),ee(()=>qn(n,`loader loader--${t()}`)),n})()}const bd="https://platformer-hq.github.io/platformer-tg-launcher/assets/app-loader-Dw7euMtA.svg?no-inline";var _d=ue("<div class=app-loading><img class=app-loading__image alt>");function wd(e){return(()=>{var t=_d(),n=t.firstChild;return Je(n,"src",bd),ye(t,y(md,{get platform(){return e.platform}}),null),t})()}var vd=ue("<main class=root>");function Ad(){return cd(()=>{try{const e=kt(xt(Lo([jo(URLSearchParams),te()]),Wi(Z({app_id:un(),api_base_url:Ae(xt(te(),Ht(t=>new URL(t,window.location.origin).toString())),"https://mini-apps.store/gql"),fallback_url:Ae(te()),init_timeout:Ae(un(),"5000"),load_timeout:Ae(un(),"10000")}))),new URLSearchParams(window.location.search.replace(/&amp;/g,"&")));return[!0,{appID:e.app_id,apiBaseURL:e.api_base_url,fallbackURL:e.fallback_url,initTimeout:e.init_timeout,loadTimeout:e.load_timeout}]}catch(e){return[!1,e.message]}})}function Ed(){const[e,t]=Ad(),{tgWebAppPlatform:n,tgWebAppStartParam:r}=nt(),[s]=vs(()=>pd((r||"").includes("platformer_debug")||!1,n)),[i,o]=Y(!1),a=new URLSearchParams(si()||"");a.set("hash","");const u=a.toString();return(()=>{var c=vd();return ye(c,y(ge,{get when(){return I(()=>!!e.ok())()&&e()},get fallback(){return y(oe,{title:"Configuration is invalid",get subtitle(){return t()}})},children:f=>y(ge,{when:u,get fallback(){return y(oe,{title:"Init data is missing",subtitle:"For some reason, init data is missing. It is the most likely that the application was launched improperly"})},children:l=>{const d=Hn(),h=new URLSearchParams(d);h.set("tgWebAppData",u);const b=h.toString(),L=I(()=>{const{fallbackURL:_}=f();if(!_)return;const j=new URL(_);let g;if(j.hash){const m=new URLSearchParams(d);new URLSearchParams(j.hash.slice(1)).forEach((w,x)=>{m.set(x,w)}),g=m.toString()}else g=d;return j.hash=`#${g}`,j.toString()});return[y(ge,{get when(){return!i()||s.loading},get children(){return y(wd,{platform:n})}}),y(ad,G(f,{get fallbackURL(){return L()},onReady:()=>{o(!0)},rawLaunchParams:d,get securedInitData(){return l()},securedLaunchParams:b}))]}})})),ee(()=>c.classList.toggle("root--mobile",!!["android","android_x","ios"].includes(n))),c})()}function kd(){return y(Qo,{fallback:ud,get children(){return y(Ed,{})}})}ua(()=>y(kd,{}),document.getElementById("root"));
